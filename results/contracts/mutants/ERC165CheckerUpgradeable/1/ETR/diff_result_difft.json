{
    "number_of_changes": 94,
    "timing": 1.0451278686523438,
    "diff_chunks": [
        [
            {
                "rhs": {
                    "line_number": 120,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "    // As per the EIP-165 spec, no interface should ever match 0xffffffff",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 137,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "     *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 181,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "     * See {IERC165-supportsInterface}.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 211,
                    "changes": [
                        {
                            "start": 0,
                            "end": 113,
                            "content": "    function supportsERC165InterfaceUnchecked(address account, bytes4 interfaceId) internal view returns (bool) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 196,
                    "changes": [
                        {
                            "start": 0,
                            "end": 35,
                            "content": "        // all interfaces supported",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 157,
                    "changes": [
                        {
                            "start": 0,
                            "end": 12,
                            "content": "        view",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 171,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "        return interfaceIdsSupported;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 187,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 203,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "     * @param interfaceId The interface identifier, as specified in ERC-165",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 155,
                    "changes": [
                        {
                            "start": 0,
                            "end": 82,
                            "content": "    function getSupportedInterfaces(address account, bytes4[] memory interfaceIds)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 174,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 177,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "     *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 124,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "     * @dev Returns true if `account` supports the {IERC165} interface,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 180,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "     *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 189,
                    "changes": [
                        {
                            "start": 0,
                            "end": 59,
                            "content": "        // query support of each interface in _interfaceIds",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 136,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "     * `interfaceId`. Support for {IERC165} itself is queried automatically.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 209,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "     * Interface identification is specified in ERC-165.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 193,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 153,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "     * _Available since v3.4._",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 147,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": "     * interfaces passed in and whether they're supported or not. This allows",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 168,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 178,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": "     * Batch-querying can lead to gas savings by skipping repeated checks for",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 149,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "     * is that some interfaces may not be supported.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 148,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "     * you to batch check interfaces for a contract where your expectation",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 110,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "import \"./IERC165Upgradeable.sol\";",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 198,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 159,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 172,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 135,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "     * @dev Returns true if `account` supports the interface defined by",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 200,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 138,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "     * See {IERC165-supportsInterface}.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 204,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "     * @return true if the contract at account indicates support of the interface with",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 121,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "    bytes4 private constant _INTERFACE_ID_INVALID = 0xffffffff;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 202,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "     * @param account The address of the contract to query for support of an interface",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 119,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "library ERC165CheckerUpgradeable {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 127,
                    "changes": [
                        {
                            "start": 0,
                            "end": 82,
                            "content": "        // Any contract that implements ERC165 must explicitly indicate support of",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 128,
                    "changes": [
                        {
                            "start": 0,
                            "end": 88,
                            "content": "        // InterfaceId_ERC165 and explicitly indicate non-support of InterfaceId_Invalid",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 182,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "     */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 210,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "     */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 190,
                    "changes": [
                        {
                            "start": 0,
                            "end": 59,
                            "content": "        for (uint256 i = 0; i < interfaceIds.length; i++) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 164,
                    "changes": [
                        {
                            "start": 0,
                            "end": 38,
                            "content": "        if (supportsERC165(account)) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 152,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "     *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 117,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": " * what to do in these cases.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 113,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": " * @dev Library used to query support of an interface declared via {IERC165}.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 130,
                    "changes": [
                        {
                            "start": 0,
                            "end": 94,
                            "content": "            supportsERC165InterfaceUnchecked(account, type(IERC165Upgradeable).interfaceId) &&",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 142,
                    "changes": [
                        {
                            "start": 0,
                            "end": 97,
                            "content": "        return supportsERC165(account) && supportsERC165InterfaceUnchecked(account, interfaceId);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 161,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "        bool[] memory interfaceIdsSupported = new bool[](interfaceIds.length);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 166,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "            for (uint256 i = 0; i < interfaceIds.length; i++) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 179,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "     * {IERC165} support.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 205,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "     * identifier interfaceId, false otherwise",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 150,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "     *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 141,
                    "changes": [
                        {
                            "start": 0,
                            "end": 83,
                            "content": "        // query support of both ERC165 as per the spec and support of _interfaceId",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 146,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "     * @dev Returns a boolean array where each value corresponds to the",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 167,
                    "changes": [
                        {
                            "start": 0,
                            "end": 102,
                            "content": "                interfaceIdsSupported[i] = supportsERC165InterfaceUnchecked(account, interfaceIds[i]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 192,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "                return false;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 183,
                    "changes": [
                        {
                            "start": 0,
                            "end": 112,
                            "content": "    function supportsAllInterfaces(address account, bytes4[] memory interfaceIds) internal view returns (bool) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 145,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 116,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": " * `revert` if an interface is not supported. It is up to the caller to decide",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 118,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": " */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 169,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 206,
                    "changes": [
                        {
                            "start": 0,
                            "end": 84,
                            "content": "     * @dev Assumes that account contains a contract that supports ERC165, otherwise",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 208,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "     * with {supportsERC165}.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 212,
                    "changes": [
                        {
                            "start": 0,
                            "end": 120,
                            "content": "        bytes memory encodedParams = abi.encodeWithSelector(IERC165Upgradeable.supportsInterface.selector, interfaceId);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 207,
                    "changes": [
                        {
                            "start": 0,
                            "end": 81,
                            "content": "     * the behavior of this method is undefined. This precondition can be checked",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 126,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "    function supportsERC165(address account) internal view returns (bool) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 163,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "        // query support of ERC165 itself",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 151,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "     * See {IERC165-supportsInterface}.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 156,
                    "changes": [
                        {
                            "start": 0,
                            "end": 16,
                            "content": "        internal",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 201,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "     * @notice Query if a contract implements an interface, does not check ERC165 support",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 194,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 184,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "        // query support of ERC165 itself",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 140,
                    "changes": [
                        {
                            "start": 0,
                            "end": 98,
                            "content": "    function supportsInterface(address account, bytes4 interfaceId) internal view returns (bool) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 197,
                    "changes": [
                        {
                            "start": 0,
                            "end": 20,
                            "content": "        return true;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 132,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 108,
                    "changes": [
                        {
                            "start": 0,
                            "end": 105,
                            "content": "        (bool success, bytes memory result) = account.call{gas: 30000}(encodedParams)gma solidity ^0.8.0;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 139,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "     */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 176,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": "     * `interfaceIds`. Support for {IERC165} itself is queried automatically.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 186,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "            return false;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 154,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "     */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 185,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "        if (!supportsERC165(account)) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 115,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": " * Note that these functions return the actual result of the query: they do not",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 131,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "            !supportsERC165InterfaceUnchecked(account, _INTERFACE_ID_INVALID);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 165,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "            // query support of each interface in interfaceIds",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 175,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "     * @dev Returns true if `account` supports all the interfaces defined in",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 129,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        return",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 114,
                    "changes": [
                        {
                            "start": 0,
                            "end": 2,
                            "content": " *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 125,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "     */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 134,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 143,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 123,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 160,
                    "changes": [
                        {
                            "start": 0,
                            "end": 98,
                            "content": "        // an array of booleans corresponding to interfaceIds and whether they're supported or not",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 158,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        returns (bool[] memory)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 191,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "            if (!supportsERC165InterfaceUnchecked(account, interfaceIds[i])) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 112,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": "/**",
                            "highlight": "normal"
                        }
                    ]
                }
            }
        ]
    ]
}