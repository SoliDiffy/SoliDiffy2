{
    "number_of_changes": 639,
    "timing": 1.4435770511627197,
    "diff_chunks": [
        [
            {
                "lhs": {
                    "line_number": 416,
                    "changes": [
                        {
                            "start": 0,
                            "end": 1,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 1,
                            "end": 2,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 2,
                            "end": 3,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 3,
                            "end": 4,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 4,
                            "end": 5,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 5,
                            "end": 6,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 6,
                            "end": 7,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 7,
                            "end": 8,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 8,
                            "end": 9,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 9,
                            "end": 10,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 10,
                            "end": 11,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 11,
                            "end": 12,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 12,
                            "end": 13,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 13,
                            "end": 14,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 14,
                            "end": 15,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 15,
                            "end": 16,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 16,
                            "end": 23,
                            "content": "require",
                            "highlight": "normal"
                        },
                        {
                            "start": 23,
                            "end": 24,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 24,
                            "end": 32,
                            "content": "stepData",
                            "highlight": "normal"
                        },
                        {
                            "start": 32,
                            "end": 33,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 33,
                            "end": 44,
                            "content": "targetToken",
                            "highlight": "normal"
                        },
                        {
                            "start": 44,
                            "end": 45,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 45,
                            "end": 53,
                            "content": "transfer",
                            "highlight": "normal"
                        },
                        {
                            "start": 53,
                            "end": 54,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 54,
                            "end": 71,
                            "content": "_affiliateAccount",
                            "highlight": "normal"
                        },
                        {
                            "start": 71,
                            "end": 72,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 72,
                            "end": 73,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 73,
                            "end": 88,
                            "content": "affiliateAmount",
                            "highlight": "normal"
                        },
                        {
                            "start": 88,
                            "end": 89,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 89,
                            "end": 90,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 90,
                            "end": 91,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 91,
                            "end": 92,
                            "content": "\"",
                            "highlight": "normal"
                        },
                        {
                            "start": 92,
                            "end": 115,
                            "content": "ERR_FEE_TRANSFER_FAILED",
                            "highlight": "normal"
                        },
                        {
                            "start": 115,
                            "end": 116,
                            "content": "\"",
                            "highlight": "normal"
                        },
                        {
                            "start": 116,
                            "end": 117,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 117,
                            "end": 118,
                            "content": ";",
                            "highlight": "normal"
                        }
                    ]
                },
                "rhs": {
                    "line_number": 416,
                    "changes": [
                        {
                            "start": 0,
                            "end": 1,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 1,
                            "end": 2,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 2,
                            "end": 3,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 3,
                            "end": 4,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 4,
                            "end": 5,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 5,
                            "end": 6,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 6,
                            "end": 7,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 7,
                            "end": 8,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 8,
                            "end": 9,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 9,
                            "end": 10,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 10,
                            "end": 11,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 11,
                            "end": 12,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 12,
                            "end": 13,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 13,
                            "end": 14,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 14,
                            "end": 15,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 15,
                            "end": 16,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 16,
                            "end": 23,
                            "content": "require",
                            "highlight": "normal"
                        },
                        {
                            "start": 23,
                            "end": 24,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 24,
                            "end": 32,
                            "content": "stepData",
                            "highlight": "normal"
                        },
                        {
                            "start": 32,
                            "end": 33,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 33,
                            "end": 44,
                            "content": "targetToken",
                            "highlight": "normal"
                        },
                        {
                            "start": 44,
                            "end": 45,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 45,
                            "end": 49,
                            "content": "send",
                            "highlight": "normal"
                        },
                        {
                            "start": 49,
                            "end": 50,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 50,
                            "end": 67,
                            "content": "_affiliateAccount",
                            "highlight": "normal"
                        },
                        {
                            "start": 67,
                            "end": 68,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 68,
                            "end": 69,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 69,
                            "end": 84,
                            "content": "affiliateAmount",
                            "highlight": "normal"
                        },
                        {
                            "start": 84,
                            "end": 85,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 85,
                            "end": 86,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 86,
                            "end": 87,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 87,
                            "end": 88,
                            "content": "\"",
                            "highlight": "normal"
                        },
                        {
                            "start": 88,
                            "end": 111,
                            "content": "ERR_FEE_TRANSFER_FAILED",
                            "highlight": "normal"
                        },
                        {
                            "start": 111,
                            "end": 112,
                            "content": "\"",
                            "highlight": "normal"
                        },
                        {
                            "start": 112,
                            "end": 113,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 113,
                            "end": 114,
                            "content": ";",
                            "highlight": "normal"
                        }
                    ]
                }
            }
        ],
        [
            {
                "lhs": {
                    "line_number": 647,
                    "changes": [
                        {
                            "start": 0,
                            "end": 1,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 1,
                            "end": 2,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 2,
                            "end": 3,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 3,
                            "end": 4,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 4,
                            "end": 5,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 5,
                            "end": 6,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 6,
                            "end": 7,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 7,
                            "end": 8,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 8,
                            "end": 9,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 9,
                            "end": 13,
                            "content": "bool",
                            "highlight": "normal"
                        },
                        {
                            "start": 13,
                            "end": 14,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 14,
                            "end": 21,
                            "content": "success",
                            "highlight": "normal"
                        },
                        {
                            "start": 21,
                            "end": 22,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 22,
                            "end": 23,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 23,
                            "end": 28,
                            "content": "bytes",
                            "highlight": "normal"
                        },
                        {
                            "start": 28,
                            "end": 29,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 29,
                            "end": 35,
                            "content": "memory",
                            "highlight": "normal"
                        },
                        {
                            "start": 35,
                            "end": 36,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 36,
                            "end": 46,
                            "content": "returnData",
                            "highlight": "normal"
                        },
                        {
                            "start": 46,
                            "end": 47,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 47,
                            "end": 48,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 48,
                            "end": 49,
                            "content": "=",
                            "highlight": "normal"
                        },
                        {
                            "start": 49,
                            "end": 50,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 50,
                            "end": 57,
                            "content": "address",
                            "highlight": "normal"
                        },
                        {
                            "start": 57,
                            "end": 58,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 58,
                            "end": 63,
                            "content": "_dest",
                            "highlight": "normal"
                        },
                        {
                            "start": 63,
                            "end": 64,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 64,
                            "end": 65,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 65,
                            "end": 75,
                            "content": "staticcall",
                            "highlight": "normal"
                        },
                        {
                            "start": 75,
                            "end": 76,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 76,
                            "end": 80,
                            "content": "data",
                            "highlight": "normal"
                        },
                        {
                            "start": 80,
                            "end": 81,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 81,
                            "end": 82,
                            "content": ";",
                            "highlight": "normal"
                        }
                    ]
                },
                "rhs": {
                    "line_number": 647,
                    "changes": [
                        {
                            "start": 0,
                            "end": 1,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 1,
                            "end": 2,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 2,
                            "end": 3,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 3,
                            "end": 4,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 4,
                            "end": 5,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 5,
                            "end": 6,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 6,
                            "end": 7,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 7,
                            "end": 8,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 8,
                            "end": 9,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 9,
                            "end": 13,
                            "content": "bool",
                            "highlight": "normal"
                        },
                        {
                            "start": 13,
                            "end": 14,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 14,
                            "end": 21,
                            "content": "success",
                            "highlight": "normal"
                        },
                        {
                            "start": 21,
                            "end": 22,
                            "content": ",",
                            "highlight": "normal"
                        },
                        {
                            "start": 22,
                            "end": 23,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 23,
                            "end": 28,
                            "content": "bytes",
                            "highlight": "normal"
                        },
                        {
                            "start": 28,
                            "end": 29,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 29,
                            "end": 35,
                            "content": "memory",
                            "highlight": "normal"
                        },
                        {
                            "start": 35,
                            "end": 36,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 36,
                            "end": 46,
                            "content": "returnData",
                            "highlight": "normal"
                        },
                        {
                            "start": 46,
                            "end": 47,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 47,
                            "end": 48,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 48,
                            "end": 49,
                            "content": "=",
                            "highlight": "normal"
                        },
                        {
                            "start": 49,
                            "end": 50,
                            "content": " ",
                            "highlight": "normal"
                        },
                        {
                            "start": 50,
                            "end": 57,
                            "content": "address",
                            "highlight": "normal"
                        },
                        {
                            "start": 57,
                            "end": 58,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 58,
                            "end": 63,
                            "content": "_dest",
                            "highlight": "normal"
                        },
                        {
                            "start": 63,
                            "end": 64,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 64,
                            "end": 65,
                            "content": ".",
                            "highlight": "normal"
                        },
                        {
                            "start": 65,
                            "end": 69,
                            "content": "call",
                            "highlight": "normal"
                        },
                        {
                            "start": 69,
                            "end": 70,
                            "content": "(",
                            "highlight": "normal"
                        },
                        {
                            "start": 70,
                            "end": 74,
                            "content": "data",
                            "highlight": "normal"
                        },
                        {
                            "start": 74,
                            "end": 75,
                            "content": ")",
                            "highlight": "normal"
                        },
                        {
                            "start": 75,
                            "end": 76,
                            "content": ";",
                            "highlight": "normal"
                        }
                    ]
                }
            }
        ],
        [
            {
                "rhs": {
                    "line_number": 943,
                    "changes": [
                        {
                            "start": 0,
                            "end": 99,
                            "content": "      a predefined conversion path and transfers the result to an account on a different blockchain",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1085,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "      * @param _sourceToken source token of the first conversion step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 788,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 804,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "        for (uint256 i = 2; i < _path.length; i += 2) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1311,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        return (0, 0);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1312,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 858,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1161,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 748,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "        maxAffiliateFee = _maxAffiliateFee;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 902,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "        // convert and get the resulting amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 684,
                    "changes": [
                        {
                            "start": 0,
                            "end": 101,
                            "content": "  * The converter anchor is only used as a pointer to a converter (since converter addresses are more",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 990,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1018,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 760,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "        validAddress(address(_token))",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1245,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "                stepData.beneficiary = payable(address(this));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 727,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    );",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1148,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1059,
                    "changes": [
                        {
                            "start": 0,
                            "end": 139,
                            "content": "                toAmount = ILegacyConverter(address(stepData.converter)).change(stepData.sourceToken, stepData.targetToken, fromAmount, 1);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1186,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "                converter: converter,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 680,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": "  *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1133,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "        ConversionStep memory stepData = _data[_data.length - 1];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 751,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 820,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "                // get the amount & the conversion fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1292,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1304,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1308,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 876,
                    "changes": [
                        {
                            "start": 0,
                            "end": 15,
                            "content": "        payable",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 910,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1178,
                    "changes": [
                        {
                            "start": 0,
                            "end": 36,
                            "content": "            if (processAffiliateFee)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1025,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "      * @param _affiliateFee        affiliate fee in PPM",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1128,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "      * @param _data        conversion data, see ConversionStep struct above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1040,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "        for (uint256 i = 0; i < _data.length; i++) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1036,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "        uint256 toAmount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 923,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 730,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "      * @dev initializes a new BancorNetwork instance",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 777,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "        return pathFinder.findPath(_sourceToken, _targetToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1246,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 685,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "  * likely to change as opposed to anchor addresses).",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 703,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "        bool processAffiliateFee;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1277,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 732,
                    "changes": [
                        {
                            "start": 0,
                            "end": 67,
                            "content": "      * @param _registry    address of a contract registry contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 755,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * @param _register    true to register, false to unregister",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 704,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 817,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "                if (i < 3 || anchor != _path[i - 3])",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1256,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1270,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "    // legacy - returns the address of an EtherToken used by the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1132,
                    "changes": [
                        {
                            "start": 0,
                            "end": 118,
                            "content": "    function handleTargetToken(ConversionStep[] memory _data, uint256 _amount, address payable _beneficiary) private {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 784,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "      * @param _path        conversion path (see conversion path format above)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1218,
                    "changes": [
                        {
                            "start": 0,
                            "end": 59,
                            "content": "                stepData.targetToken = ETH_RESERVE_ADDRESS;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 720,
                    "changes": [
                        {
                            "start": 0,
                            "end": 21,
                            "content": "    event Conversion(",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1130,
                    "changes": [
                        {
                            "start": 0,
                            "end": 67,
                            "content": "      * @param _beneficiary wallet to receive the conversion result",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 785,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "      * @param _amount      amount of _path[0] tokens received from the sender",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1033,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        address _affiliateAccount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1141,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "        // ETH / EtherToken",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 768,
                    "changes": [
                        {
                            "start": 0,
                            "end": 105,
                            "content": "      * note that this method is quite expensive in terms of gas and should generally be called off-chain",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 773,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "      * @return conversion path between the two tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1198,
                    "changes": [
                        {
                            "start": 0,
                            "end": 15,
                            "content": "            });",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1122,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 992,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "      * token on the BancorNetwork",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 747,
                    "changes": [
                        {
                            "start": 0,
                            "end": 81,
                            "content": "        require(_maxAffiliateFee <= PPM_RESOLUTION, \"ERR_INVALID_AFFILIATE_FEE\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1176,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "            // check if the affiliate fee should be processed in this step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 830,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "            else if (address(sourceToken) == anchor) { // sell the anchor",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1259,
                    "changes": [
                        {
                            "start": 0,
                            "end": 40,
                            "content": "      * @param _value   allowance amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1160,
                    "changes": [
                        {
                            "start": 0,
                            "end": 99,
                            "content": "      * @param _affiliateFeeEnabled true if affiliate fee was requested by the sender, false if not",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1213,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        // target is ETH",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1298,
                    "changes": [
                        {
                            "start": 0,
                            "end": 114,
                            "content": "        bytes memory data = abi.encodeWithSelector(GET_RETURN_FUNC_SELECTOR, _sourceToken, _targetToken, _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 800,
                    "changes": [
                        {
                            "start": 0,
                            "end": 70,
                            "content": "        // verify that the number of elements is larger than 2 and odd",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1001,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "      * @param _beneficiary     wallet to receive the conversion result",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1241,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "                    stepData.beneficiary = payable(address(this));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1231,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "                if (stepData.processAffiliateFee)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 914,
                    "changes": [
                        {
                            "start": 0,
                            "end": 99,
                            "content": "      a predefined conversion path and transfers the result to an account on a different blockchain",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1046,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "                // not needed with ETH or if it's the first conversion step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1126,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "      * @dev handles the conversion target token if the network still holds it at the end of the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 962,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        bytes32 _targetAccount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 935,
                    "changes": [
                        {
                            "start": 0,
                            "end": 15,
                            "content": "        payable",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 740,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1024,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "      * @param _affiliateAccount    affiliate account",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1282,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "    // legacy - if the token is an ether token, returns the ETH reserve address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1182,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "                // set the converter anchor",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1224,
                    "changes": [
                        {
                            "start": 0,
                            "end": 44,
                            "content": "        // set the beneficiary for each step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 782,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "      * note that there is no support for circular paths",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1011,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "        // get conversion amount from BancorX contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1172,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "            IConverterAnchor anchor = IConverterAnchor(_conversionPath[i + 1]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 907,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "        handleTargetToken(data, amount, beneficiary);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 971,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 801,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "        require(_path.length > 2 && _path.length % 2 == 1, \"ERR_INVALID_PATH\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 916,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 973,
                    "changes": [
                        {
                            "start": 0,
                            "end": 57,
                            "content": "        IBancorX bancorX = IBancorX(addressOf(BANCOR_X));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1112,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "                IEtherToken(address(_sourceToken)).withdraw(_amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 877,
                    "changes": [
                        {
                            "start": 0,
                            "end": 17,
                            "content": "        protected",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 982,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "        ensureAllowance(targetToken, address(bancorX), amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 873,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        address _affiliateAccount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1143,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "            // newer converter should send ETH directly to the beneficiary",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 783,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1261,
                    "changes": [
                        {
                            "start": 0,
                            "end": 92,
                            "content": "    function ensureAllowance(IERC20Token _token, address _spender, uint256 _value) private {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1058,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "            if (!stepData.isV28OrHigherConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1242,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1027,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "      * @return amount of tokens received from the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 991,
                    "changes": [
                        {
                            "start": 0,
                            "end": 98,
                            "content": "      * @dev allows a user to convert a token that was sent from another blockchain into any other",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1108,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "            safeTransferFrom(_sourceToken, msg.sender, address(this), _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1165,
                    "changes": [
                        {
                            "start": 0,
                            "end": 88,
                            "content": "        ConversionStep[] memory data = new ConversionStep[](_conversionPath.length / 2);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 863,
                    "changes": [
                        {
                            "start": 0,
                            "end": 111,
                            "content": "      * @param _affiliateAccount    wallet address to receive the affiliate fee or 0x0 to disable affiliate fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1190,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "                targetToken: targetToken,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 717,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * @param _toAmount    amount returned, minus conversion fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 739,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * @dev allows the owner to update the maximum affiliate-fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 869,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        address[] memory _path,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1076,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "        // ensure the trade meets the minimum requested amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1229,
                    "changes": [
                        {
                            "start": 0,
                            "end": 50,
                            "content": "            if (stepData.isV28OrHigherConverter) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 712,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 762,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1026,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 805,
                    "changes": [
                        {
                            "start": 0,
                            "end": 64,
                            "content": "            IERC20Token sourceToken = IERC20Token(_path[i - 2]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1082,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 968,
                    "changes": [
                        {
                            "start": 0,
                            "end": 15,
                            "content": "        payable",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 894,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "            affiliateFeeEnabled = true;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 999,
                    "changes": [
                        {
                            "start": 0,
                            "end": 102,
                            "content": "      * @param _conversionId    pre-determined unique (if non zero) id which refers to this conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1062,
                    "changes": [
                        {
                            "start": 0,
                            "end": 16,
                            "content": "            else",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 985,
                    "changes": [
                        {
                            "start": 0,
                            "end": 84,
                            "content": "        bancorX.xTransfer(_targetBlockchain, _targetAccount, amount, _conversionId);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1072,
                    "changes": [
                        {
                            "start": 0,
                            "end": 123,
                            "content": "            emit Conversion(stepData.anchor, stepData.sourceToken, stepData.targetToken, fromAmount, toAmount, msg.sender);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1202,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        // source is ETH",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1253,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "      * @dev utility, checks whether allowance for the given spender exists and approves one if it doesn't.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 674,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "  * transaction by providing a conversion path.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 806,
                    "changes": [
                        {
                            "start": 0,
                            "end": 42,
                            "content": "            address anchor = _path[i - 1];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1306,
                    "changes": [
                        {
                            "start": 0,
                            "end": 42,
                            "content": "            if (returnData.length == 32) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 941,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 884,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": "        // validate msg.value and prepare the source token for the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 723,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "        IERC20Token indexed _toToken,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 843,
                    "changes": [
                        {
                            "start": 0,
                            "end": 44,
                            "content": "                supply = supply.sub(amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 828,
                    "changes": [
                        {
                            "start": 0,
                            "end": 44,
                            "content": "                supply = supply.add(amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1168,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "        IERC20Token bntToken = IERC20Token(addressOf(BNT_TOKEN));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1174,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "            IERC20Token targetToken = IERC20Token(_conversionPath[i + 2]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1276,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "                return reserveTokenAddress;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 938,
                    "changes": [
                        {
                            "start": 0,
                            "end": 118,
                            "content": "        return xConvert2(_path, _amount, _minReturn, _targetBlockchain, _targetAccount, _conversionId, address(0), 0);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1002,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 780,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1239,
                    "changes": [
                        {
                            "start": 0,
                            "end": 95,
                            "content": "                // the converter in the next step is older, beneficiary is the network contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 850,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        return amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 928,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        uint256 _amount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1252,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 885,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "        handleSourceToken(IERC20Token(_path[0]), IConverterAnchor(_path[1]), _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 942,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @dev converts any other token to BNT in the bancor network by following",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 881,
                    "changes": [
                        {
                            "start": 0,
                            "end": 104,
                            "content": "        // verify that the path contrains at least a single 'hop' and that the number of elements is odd",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 733,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 829,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 694,
                    "changes": [
                        {
                            "start": 0,
                            "end": 111,
                            "content": "    IERC20Token private constant ETH_RESERVE_ADDRESS = IERC20Token(0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1032,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "        uint256 _minReturn,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1044,
                    "changes": [
                        {
                            "start": 0,
                            "end": 50,
                            "content": "            if (stepData.isV28OrHigherConverter) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1004,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 679,
                    "changes": [
                        {
                            "start": 0,
                            "end": 109,
                            "content": "  * The path defines which converters should be used and what kind of conversion should be done in each step.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1099,
                    "changes": [
                        {
                            "start": 0,
                            "end": 81,
                            "content": "            // note that it can still be a non ETH converter if the path is wrong",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 951,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "      * @param _conversionId        pre-determined unique (if non zero) id which refers to this transaction",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1201,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        // ETH support",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 981,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        // grant BancorX allowance",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 675,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": "  *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1294,
                    "changes": [
                        {
                            "start": 0,
                            "end": 111,
                            "content": "    bytes4 private constant GET_RETURN_FUNC_SELECTOR = bytes4(keccak256(\"getReturn(address,address,uint256)\"));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 713,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "      * @param _smartToken  anchor governed by the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1291,
                    "changes": [
                        {
                            "start": 0,
                            "end": 57,
                            "content": "        return getConverterEtherTokenAddress(_converter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1029,
                    "changes": [
                        {
                            "start": 0,
                            "end": 26,
                            "content": "    function doConversion(",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 856,
                    "changes": [
                        {
                            "start": 0,
                            "end": 119,
                            "content": "      * affiliate account/fee can also be passed in to receive a conversion fee (on top of the liquidity provider fees)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 758,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        public",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 939,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1240,
                    "changes": [
                        {
                            "start": 0,
                            "end": 20,
                            "content": "                else",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 956,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1199,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 821,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "                balance = converter.getConnectorBalance(sourceToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 984,
                    "changes": [
                        {
                            "start": 0,
                            "end": 51,
                            "content": "        // transfer the resulting amount to BancorX",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1054,
                    "changes": [
                        {
                            "start": 0,
                            "end": 95,
                            "content": "                ensureAllowance(stepData.sourceToken, address(stepData.converter), fromAmount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 687,
                    "changes": [
                        {
                            "start": 0,
                            "end": 11,
                            "content": "  * Format:",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 698,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "        IConverterAnchor anchor;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 857,
                    "changes": [
                        {
                            "start": 0,
                            "end": 103,
                            "content": "      * note that the network should already have been given allowance of the source token (if not ETH)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1179,
                    "changes": [
                        {
                            "start": 0,
                            "end": 45,
                            "content": "                affiliateFeeProcessed = true;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 915,
                    "changes": [
                        {
                            "start": 0,
                            "end": 103,
                            "content": "      * note that the network should already have been given allowance of the source token (if not ETH)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1232,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "                    stepData.beneficiary = payable(address(this));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1217,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "            if (stepData.isV28OrHigherConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 693,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "    uint256 private constant PPM_RESOLUTION = 1000000;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1230,
                    "changes": [
                        {
                            "start": 0,
                            "end": 98,
                            "content": "                // if affiliate fee is processed in this step, beneficiary is the network contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 855,
                    "changes": [
                        {
                            "start": 0,
                            "end": 88,
                            "content": "      * a predefined conversion path and transfers the result tokens to a target account",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 893,
                    "changes": [
                        {
                            "start": 0,
                            "end": 104,
                            "content": "            require(0 < _affiliateFee && _affiliateFee <= maxAffiliateFee, \"ERR_INVALID_AFFILIATE_FEE\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 718,
                    "changes": [
                        {
                            "start": 0,
                            "end": 59,
                            "content": "      * @param _trader      wallet that initiated the trade",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1120,
                    "changes": [
                        {
                            "start": 0,
                            "end": 16,
                            "content": "            else",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1111,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "            if (isNewerConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 770,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "      * @param _sourceToken source token address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 997,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "      * @param _path            conversion path",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1208,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "            // older converter - replace the source token with the EtherToken address used by the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1237,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "                else if (data[i + 1].isV28OrHigherConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 743,
                    "changes": [
                        {
                            "start": 0,
                            "end": 57,
                            "content": "    function setMaxAffiliateFee(uint256 _maxAffiliateFee)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1100,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "            // but such conversion will simply revert",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1203,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "        ConversionStep memory stepData = data[0];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 835,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "                // get the amount & the conversion fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1052,
                    "changes": [
                        {
                            "start": 0,
                            "end": 82,
                            "content": "            else if (stepData.sourceToken != IDSToken(address(stepData.anchor))) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1159,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "      * @param _beneficiary         wallet to receive the conversion result",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 701,
                    "changes": [
                        {
                            "start": 0,
                            "end": 36,
                            "content": "        address payable beneficiary;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 678,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "  * converter and might require multiple 'hops'.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1146,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "            // EtherToken converter - withdraw the ETH and transfer to the beneficiary",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1185,
                    "changes": [
                        {
                            "start": 0,
                            "end": 36,
                            "content": "                // set the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1262,
                    "changes": [
                        {
                            "start": 0,
                            "end": 70,
                            "content": "        uint256 allowance = _token.allowance(address(this), _spender);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 866,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "      * @return amount of tokens received from the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1265,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "                safeApprove(_token, _spender, 0);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 862,
                    "changes": [
                        {
                            "start": 0,
                            "end": 131,
                            "content": "      * @param _beneficiary         account that will receive the conversion result or 0x0 to send the result to the sender account",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 959,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        uint256 _amount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1235,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "                    stepData.beneficiary = _beneficiary;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1127,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1158,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @param _conversionPath      conversion path, see conversion path format above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 964,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        address _affiliateAccount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1271,
                    "changes": [
                        {
                            "start": 0,
                            "end": 102,
                            "content": "    function getConverterEtherTokenAddress(IConverter _converter) private view returns (IERC20Token) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1003,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "      * @return amount of tokens received from the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 761,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "        notThis(address(_token))",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 699,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "        IERC20Token sourceToken;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 744,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        public",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1009,
                    "changes": [
                        {
                            "start": 0,
                            "end": 87,
                            "content": "        require(IERC20Token(_path[0]) == _bancorX.token(), \"ERR_INVALID_SOURCE_TOKEN\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1210,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "                stepData.sourceToken = getConverterEtherTokenAddress(stepData.converter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1288,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "        if (isV28OrHigherConverter(_converter))",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1028,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 789,
                    "changes": [
                        {
                            "start": 0,
                            "end": 96,
                            "content": "    function rateByPath(address[] memory _path, uint256 _amount) public view returns (uint256) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 807,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "            IERC20Token targetToken = IERC20Token(_path[i]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 948,
                    "changes": [
                        {
                            "start": 0,
                            "end": 151,
                            "content": "      * @param _minReturn           if the conversion results in an amount smaller than the minimum return - it is cancelled, must be greater than zero",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1051,
                    "changes": [
                        {
                            "start": 0,
                            "end": 112,
                            "content": "            // if the source token is the liquid token, no need to do any transfers as the converter controls it",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1263,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "        if (allowance < _value) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 922,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "      * @param _conversionId        pre-determined unique (if non zero) id which refers to this transaction",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1090,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "        IConverter firstConverter = IConverter(payable(_anchor.owner()));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 708,
                    "changes": [
                        {
                            "start": 0,
                            "end": 93,
                            "content": "    mapping (IERC20Token => bool) public etherTokens;   // list of all supported ether tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 859,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @param _path                conversion path, see conversion path format above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1318,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "    function isV28OrHigherConverter(IConverter _converter) internal view returns (bool) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 792,
                    "changes": [
                        {
                            "start": 0,
                            "end": 23,
                            "content": "        uint256 supply;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 889,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "        if (address(_affiliateAccount) == address(0)) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 853,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 771,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "      * @param _targetToken target token address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 861,
                    "changes": [
                        {
                            "start": 0,
                            "end": 151,
                            "content": "      * @param _minReturn           if the conversion results in an amount smaller than the minimum return - it is cancelled, must be greater than zero",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1267,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 831,
                    "changes": [
                        {
                            "start": 0,
                            "end": 58,
                            "content": "                // check if the current anchor has changed",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 811,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "            // backward compatibility",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1083,
                    "changes": [
                        {
                            "start": 0,
                            "end": 92,
                            "content": "      * @dev validates msg.value and prepares the conversion source token for the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 689,
                    "changes": [
                        {
                            "start": 0,
                            "end": 2,
                            "content": "*/",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1268,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 953,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "      * @param _affiliateFee        affiliate fee in PPM",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 683,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "  * In addition, the first element is always the source token.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1131,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 736,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 729,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1084,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1105,
                    "changes": [
                        {
                            "start": 0,
                            "end": 45,
                            "content": "        else if (etherTokens[_sourceToken]) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1225,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "        for (i = 0; i < data.length; i++) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1086,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "      * @param _anchor      converter anchor of the first conversion step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1117,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "            // otherwise claim the tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 706,
                    "changes": [
                        {
                            "start": 0,
                            "end": 72,
                            "content": "    uint256 public maxAffiliateFee = 30000;     // maximum affiliate-fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 975,
                    "changes": [
                        {
                            "start": 0,
                            "end": 51,
                            "content": "        // verify that the destination token is BNT",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 890,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "            require(_affiliateFee == 0, \"ERR_INVALID_AFFILIATE_FEE\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1012,
                    "changes": [
                        {
                            "start": 0,
                            "end": 80,
                            "content": "        uint256 amount = _bancorX.getXTransferAmount(_conversionId, msg.sender);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1061,
                    "changes": [
                        {
                            "start": 0,
                            "end": 164,
                            "content": "                toAmount = stepData.converter.convert{ value: msg.value }(stepData.sourceToken, stepData.targetToken, fromAmount, msg.sender, stepData.beneficiary);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1196,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "                isV28OrHigherConverter: isV28OrHigherConverter(converter),",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1205,
                    "changes": [
                        {
                            "start": 0,
                            "end": 90,
                            "content": "            // newer converter - replace the source token address with ETH reserve address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1284,
                    "changes": [
                        {
                            "start": 0,
                            "end": 117,
                            "content": "    function getConverterTokenAddress(IConverter _converter, IERC20Token _token) private view returns (IERC20Token) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1020,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 913,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @dev converts any other token to BNT in the bancor network by following",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 930,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        bytes32 _targetBlockchain,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1309,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1077,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "        require(toAmount >= _minReturn, \"ERR_RETURN_TOO_LOW\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 887,
                    "changes": [
                        {
                            "start": 0,
                            "end": 44,
                            "content": "        // check if affiliate fee is enabled",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 749,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 763,
                    "changes": [
                        {
                            "start": 0,
                            "end": 40,
                            "content": "        etherTokens[_token] = _register;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 786,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 879,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "        returns (uint256)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1069,
                    "changes": [
                        {
                            "start": 0,
                            "end": 44,
                            "content": "                toAmount -= affiliateAmount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 795,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "        IConverter converter;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 998,
                    "changes": [
                        {
                            "start": 0,
                            "end": 84,
                            "content": "      * @param _bancorX         address of the BancorX contract for the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 818,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "                    supply = IDSToken(anchor).totalSupply();",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 833,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "                    supply = IDSToken(anchor).totalSupply();",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 904,
                    "changes": [
                        {
                            "start": 0,
                            "end": 99,
                            "content": "        uint256 amount = doConversion(data, _amount, _minReturn, _affiliateAccount, _affiliateFee);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1233,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "                // if it's the last step, beneficiary is the final beneficiary",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 945,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 931,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        bytes32 _targetAccount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 844,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 925,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1048,
                    "changes": [
                        {
                            "start": 0,
                            "end": 96,
                            "content": "                    safeTransfer(stepData.sourceToken, address(stepData.converter), fromAmount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1015,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "        return convertByPath(_path, amount, _minReturn, _beneficiary, address(0), 0);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 803,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "        // iterate over the conversion path",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1147,
                    "changes": [
                        {
                            "start": 0,
                            "end": 80,
                            "content": "            IEtherToken(address(targetToken)).withdrawTo(_beneficiary, _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1144,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "            assert(!stepData.isV28OrHigherConverter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1272,
                    "changes": [
                        {
                            "start": 0,
                            "end": 64,
                            "content": "        uint256 reserveCount = _converter.connectorTokenCount();",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1197,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "                processAffiliateFee: processAffiliateFee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 846,
                    "changes": [
                        {
                            "start": 0,
                            "end": 87,
                            "content": "                (amount, fee) = getReturn(converter, sourceToken, targetToken, amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 919,
                    "changes": [
                        {
                            "start": 0,
                            "end": 151,
                            "content": "      * @param _minReturn           if the conversion results in an amount smaller than the minimum return - it is cancelled, must be greater than zero",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 756,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 716,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * @param _fromAmount  amount converted, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 702,
                    "changes": [
                        {
                            "start": 0,
                            "end": 36,
                            "content": "        bool isV28OrHigherConverter;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 746,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 719,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1008,
                    "changes": [
                        {
                            "start": 0,
                            "end": 60,
                            "content": "        // verify that the source token is the BancorX token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 900,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "            beneficiary = _beneficiary;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1207,
                    "changes": [
                        {
                            "start": 0,
                            "end": 59,
                            "content": "                stepData.sourceToken = ETH_RESERVE_ADDRESS;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 882,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "        require(_path.length > 2 && _path.length % 2 == 1, \"ERR_INVALID_PATH\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 671,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": "/**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1049,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1222,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 978,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "        // convert and get the resulting amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 738,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1157,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 917,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @param _path                conversion path, see conversion path format above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 691,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "    using SafeMath for uint256;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1067,
                    "changes": [
                        {
                            "start": 0,
                            "end": 90,
                            "content": "                uint256 affiliateAmount = toAmount.mul(_affiliateFee).div(PPM_RESOLUTION);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1152,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1005,
                    "changes": [
                        {
                            "start": 0,
                            "end": 148,
                            "content": "    function completeXConversion(address[] memory _path, IBancorX _bancorX, uint256 _conversionId, uint256 _minReturn, address payable _beneficiary)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 912,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1142,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "        if (etherTokens[targetToken]) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1098,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "            // EtherToken converter - deposit the ETH into the EtherToken",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1110,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "            // ETH converter - withdraw the ETH",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 872,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "        address payable _beneficiary,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1079,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        return toAmount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 682,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "  * in which each 'hop' is represented by a 2-tuple - converter anchor & target token.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1034,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "        uint256 _affiliateFee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 933,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    )",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1226,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "            stepData = data[i];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1155,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1091,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "        bool isNewerConverter = isV28OrHigherConverter(firstConverter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 791,
                    "changes": [
                        {
                            "start": 0,
                            "end": 20,
                            "content": "        uint256 fee;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 864,
                    "changes": [
                        {
                            "start": 0,
                            "end": 86,
                            "content": "      * @param _affiliateFee        affiliate fee in PPM or 0 to disable affiliate fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1164,
                    "changes": [
                        {
                            "start": 0,
                            "end": 173,
                            "content": "    function createConversionData(address[] memory _conversionPath, address payable _beneficiary, bool _affiliateFeeEnabled) private view returns (ConversionStep[] memory) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1074,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1216,
                    "changes": [
                        {
                            "start": 0,
                            "end": 90,
                            "content": "            // newer converter - replace the target token address with ETH reserve address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 963,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "        uint256 _conversionId,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 711,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "      * @dev triggered when a conversion between two tokens occurs",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 870,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        uint256 _amount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1073,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "            fromAmount = toAmount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1118,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "            if (isNewerConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1000,
                    "changes": [
                        {
                            "start": 0,
                            "end": 137,
                            "content": "      * @param _minReturn       if the conversion results in an amount smaller than the minimum return - it is cancelled, must be nonzero",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 979,
                    "changes": [
                        {
                            "start": 0,
                            "end": 125,
                            "content": "        uint256 amount = convertByPath(_path, _amount, _minReturn, payable(address(this)), _affiliateAccount, _affiliateFee);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1170,
                    "changes": [
                        {
                            "start": 0,
                            "end": 18,
                            "content": "        uint256 i;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 972,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "        IERC20Token targetToken = IERC20Token(_path[_path.length - 1]);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 903,
                    "changes": [
                        {
                            "start": 0,
                            "end": 101,
                            "content": "        ConversionStep[] memory data = createConversionData(_path, beneficiary, affiliateFeeEnabled);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1162,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @return cached conversion data to be ingested later on by the conversion flow",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1192,
                    "changes": [
                        {
                            "start": 0,
                            "end": 90,
                            "content": "                // requires knowledge about the next step, so initialize in the next phase",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1249,
                    "changes": [
                        {
                            "start": 0,
                            "end": 20,
                            "content": "        return data;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 937,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 836,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "                balance = converter.getConnectorBalance(targetToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1177,
                    "changes": [
                        {
                            "start": 0,
                            "end": 113,
                            "content": "            bool processAffiliateFee = _affiliateFeeEnabled && !affiliateFeeProcessed && targetToken == bntToken;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 696,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "    struct ConversionStep {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1055,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1280,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 752,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * @dev allows the owner to register/unregister ether tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1221,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "                stepData.targetToken = getConverterEtherTokenAddress(stepData.converter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 936,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "        returns (uint256)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 759,
                    "changes": [
                        {
                            "start": 0,
                            "end": 17,
                            "content": "        ownerOnly",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1102,
                    "changes": [
                        {
                            "start": 0,
                            "end": 114,
                            "content": "                IEtherToken(address(getConverterEtherTokenAddress(firstConverter))).deposit{ value: msg.value }();",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1258,
                    "changes": [
                        {
                            "start": 0,
                            "end": 40,
                            "content": "      * @param _spender approved address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1050,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "            // older converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1070,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 995,
                    "changes": [
                        {
                            "start": 0,
                            "end": 65,
                            "content": "      * BancorX contract directly by specifying the conversion id",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1314,
                    "changes": [
                        {
                            "start": 0,
                            "end": 98,
                            "content": "    bytes4 private constant IS_V28_OR_HIGHER_FUNC_SELECTOR = bytes4(keccak256(\"isV28OrHigher()\"));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 673,
                    "changes": [
                        {
                            "start": 0,
                            "end": 103,
                            "content": "  * It also allows for the conversion of any token in the Bancor Network to any other token in a single",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 838,
                    "changes": [
                        {
                            "start": 0,
                            "end": 83,
                            "content": "                amount = formula.saleTargetAmount(supply, balance, weight, amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 926,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "    function xConvert(",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1247,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 897,
                    "changes": [
                        {
                            "start": 0,
                            "end": 38,
                            "content": "        // check if beneficiary is set",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 845,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "            else { // cross reserve conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 812,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "            sourceToken = getConverterTokenAddress(converter, sourceToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 851,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 686,
                    "changes": [
                        {
                            "start": 0,
                            "end": 3,
                            "content": "  *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 677,
                    "changes": [
                        {
                            "start": 0,
                            "end": 102,
                            "content": "  * to another token in the Bancor Network, when the conversion cannot necessarily be done by a single",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 868,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "    function convertByPath(",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 880,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 774,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 947,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @param _amount              amount to convert from, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1037,
                    "changes": [
                        {
                            "start": 0,
                            "end": 37,
                            "content": "        uint256 fromAmount = _amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1068,
                    "changes": [
                        {
                            "start": 0,
                            "end": 114,
                            "content": "                require(stepData.targetToken.send(_affiliateAccount, affiliateAmount), \"ERR_FEE_TRANSFER_FAILED\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1264,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "            if (allowance > 0)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1279,
                    "changes": [
                        {
                            "start": 0,
                            "end": 35,
                            "content": "        return ETH_RESERVE_ADDRESS;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 854,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @dev converts the token to any other token in the bancor network by following",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 778,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 796,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "        IBancorFormula formula = IBancorFormula(addressOf(BANCOR_FORMULA));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 892,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        else {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1101,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "            if (!isNewerConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1181,
                    "changes": [
                        {
                            "start": 0,
                            "end": 42,
                            "content": "            data[i / 2] = ConversionStep({",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1204,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "        if (etherTokens[stepData.sourceToken]) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 710,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1119,
                    "changes": [
                        {
                            "start": 0,
                            "end": 93,
                            "content": "                safeTransferFrom(_sourceToken, msg.sender, address(firstConverter), _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 766,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 816,
                    "changes": [
                        {
                            "start": 0,
                            "end": 58,
                            "content": "                // check if the current anchor has changed",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 929,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "        uint256 _minReturn,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 878,
                    "changes": [
                        {
                            "start": 0,
                            "end": 35,
                            "content": "        greaterThanZero(_minReturn)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1260,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 676,
                    "changes": [
                        {
                            "start": 0,
                            "end": 103,
                            "content": "  * A note on Conversion Path: Conversion path is a data structure that is used when converting a token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 753,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 848,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 772,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 715,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "      * @param _toToken     target ERC20 token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 832,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "                if (i < 3 || anchor != _path[i - 3])",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 921,
                    "changes": [
                        {
                            "start": 0,
                            "end": 95,
                            "content": "      * @param _targetAccount       address/account on the target blockchain to send the BNT to",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1236,
                    "changes": [
                        {
                            "start": 0,
                            "end": 96,
                            "content": "                // if the converter in the next step is newer, beneficiary is the next converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1209,
                    "changes": [
                        {
                            "start": 0,
                            "end": 16,
                            "content": "            else",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1183,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "                anchor: anchor,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 735,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "        etherTokens[ETH_RESERVE_ADDRESS] = true;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1014,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "        // perform the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1211,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 764,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1136,
                    "changes": [
                        {
                            "start": 0,
                            "end": 50,
                            "content": "        if (stepData.beneficiary != address(this))",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1215,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "        if (etherTokens[stepData.targetToken]) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 815,
                    "changes": [
                        {
                            "start": 0,
                            "end": 67,
                            "content": "            if (address(targetToken) == anchor) { // buy the anchor",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1214,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "        stepData = data[data.length - 1];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1104,
                    "changes": [
                        {
                            "start": 0,
                            "end": 21,
                            "content": "        // EtherToken",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 946,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "      * @param _path                conversion path, see conversion path format above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 822,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "                (, weight, , , ) = converter.connectors(sourceToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 976,
                    "changes": [
                        {
                            "start": 0,
                            "end": 94,
                            "content": "        require(targetToken == IERC20Token(addressOf(BNT_TOKEN)), \"ERR_INVALID_TARGET_TOKEN\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 949,
                    "changes": [
                        {
                            "start": 0,
                            "end": 68,
                            "content": "      * @param _targetBlockchain    blockchain BNT will be issued on",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 793,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        uint256 balance;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1107,
                    "changes": [
                        {
                            "start": 0,
                            "end": 77,
                            "content": "            // since in that case the transaction must be sent with msg.value",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1274,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "            IERC20Token reserveTokenAddress = _converter.connectorTokens(i);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 920,
                    "changes": [
                        {
                            "start": 0,
                            "end": 68,
                            "content": "      * @param _targetBlockchain    blockchain BNT will be issued on",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1053,
                    "changes": [
                        {
                            "start": 0,
                            "end": 90,
                            "content": "                // grant allowance for it to transfer the tokens from the network contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 798,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "        amount = _amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 824,
                    "changes": [
                        {
                            "start": 0,
                            "end": 80,
                            "content": "                fee = amount.mul(converter.conversionFee()).div(PPM_RESOLUTION);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 867,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 776,
                    "changes": [
                        {
                            "start": 0,
                            "end": 100,
                            "content": "        IConversionPathFinder pathFinder = IConversionPathFinder(addressOf(CONVERSION_PATH_FINDER));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1189,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "                sourceToken: IERC20Token(_conversionPath[i]),",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1238,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "                    stepData.beneficiary = address(data[i + 1].converter);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1296,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "    // using a static call to get the return from older converters",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 994,
                    "changes": [
                        {
                            "start": 0,
                            "end": 92,
                            "content": "      * so the input amount isn't known at that point - the amount is actually take from the",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1060,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "            else if (etherTokens[stepData.sourceToken])",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1115,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        else {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 952,
                    "changes": [
                        {
                            "start": 0,
                            "end": 53,
                            "content": "      * @param _affiliateAccount    affiliate account",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 722,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "        IERC20Token indexed _fromToken,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 724,
                    "changes": [
                        {
                            "start": 0,
                            "end": 28,
                            "content": "        uint256 _fromAmount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1266,
                    "changes": [
                        {
                            "start": 0,
                            "end": 50,
                            "content": "            safeApprove(_token, _spender, _value);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1273,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "        for (uint256 i = 0; i < reserveCount; i++) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1019,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "      * @dev executes the actual conversion by following the conversion path",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 837,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "                (, weight, , , ) = converter.connectors(targetToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 927,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        address[] memory _path,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1094,
                    "changes": [
                        {
                            "start": 0,
                            "end": 28,
                            "content": "        if (msg.value > 0) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 871,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "        uint256 _minReturn,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1125,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "    /**",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1153,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 741,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "      * @param _maxAffiliateFee   maximum affiliate-fee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1171,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "        for (i = 0; i < _conversionPath.length - 1; i += 2) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 839,
                    "changes": [
                        {
                            "start": 0,
                            "end": 80,
                            "content": "                fee = amount.mul(converter.conversionFee()).div(PPM_RESOLUTION);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1220,
                    "changes": [
                        {
                            "start": 0,
                            "end": 16,
                            "content": "            else",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1095,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "            // validate msg.value",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1063,
                    "changes": [
                        {
                            "start": 0,
                            "end": 144,
                            "content": "                toAmount = stepData.converter.convert(stepData.sourceToken, stepData.targetToken, fromAmount, msg.sender, stepData.beneficiary);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1103,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1299,
                    "changes": [
                        {
                            "start": 0,
                            "end": 76,
                            "content": "        (bool success, bytes memory returnData) = address(_dest).call(data);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 769,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1096,
                    "changes": [
                        {
                            "start": 0,
                            "end": 69,
                            "content": "            require(msg.value == _amount, \"ERR_ETH_AMOUNT_MISMATCH\");",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1303,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "                return abi.decode(returnData, (uint256, uint256));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 726,
                    "changes": [
                        {
                            "start": 0,
                            "end": 23,
                            "content": "        address _trader",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1135,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "        // network contract doesn't hold the tokens, do nothing",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1234,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "                else if (i == data.length - 1)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1275,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "            if (etherTokens[reserveTokenAddress])",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 944,
                    "changes": [
                        {
                            "start": 0,
                            "end": 103,
                            "content": "      * note that the network should already have been given allowance of the source token (if not ETH)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1114,
                    "changes": [
                        {
                            "start": 0,
                            "end": 28,
                            "content": "        // other ERC20 token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1123,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 725,
                    "changes": [
                        {
                            "start": 0,
                            "end": 26,
                            "content": "        uint256 _toAmount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1057,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "            // do the conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 996,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 754,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "      * @param _token       ether token contract address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 918,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @param _amount              amount to convert from, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1007,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 825,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "                amount -= fee;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1285,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "        if (!etherTokens[_token])",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 932,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "        uint256 _conversionId",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 781,
                    "changes": [
                        {
                            "start": 0,
                            "end": 92,
                            "content": "      * @dev returns the expected target amount of converting a given amount on a given path",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1188,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "                // set the source/target tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1030,
                    "changes": [
                        {
                            "start": 0,
                            "end": 38,
                            "content": "        ConversionStep[] memory _data,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1286,
                    "changes": [
                        {
                            "start": 0,
                            "end": 26,
                            "content": "            return _token;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1254,
                    "changes": [
                        {
                            "start": 0,
                            "end": 105,
                            "content": "      * Note that we use the non standard erc-20 interface in which `approve` has no return value so that",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1045,
                    "changes": [
                        {
                            "start": 0,
                            "end": 111,
                            "content": "                // transfer the tokens to the converter only if the network contract currently holds the tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 969,
                    "changes": [
                        {
                            "start": 0,
                            "end": 35,
                            "content": "        greaterThanZero(_minReturn)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 954,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1039,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "        // iterate over the conversion data",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1006,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "        public returns (uint256)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 842,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "                // update the anchor supply for the next iteration",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1031,
                    "changes": [
                        {
                            "start": 0,
                            "end": 24,
                            "content": "        uint256 _amount,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 875,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        public",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1319,
                    "changes": [
                        {
                            "start": 0,
                            "end": 83,
                            "content": "        bytes memory data = abi.encodeWithSelector(IS_V28_OR_HIGHER_FUNC_SELECTOR);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1255,
                    "changes": [
                        {
                            "start": 0,
                            "end": 73,
                            "content": "      * this function will work for both standard and non standard tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 874,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "        uint256 _affiliateFee)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1151,
                    "changes": [
                        {
                            "start": 0,
                            "end": 61,
                            "content": "            safeTransfer(targetToken, _beneficiary, _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1035,
                    "changes": [
                        {
                            "start": 0,
                            "end": 33,
                            "content": "    ) private returns (uint256) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1307,
                    "changes": [
                        {
                            "start": 0,
                            "end": 62,
                            "content": "                return (abi.decode(returnData, (uint256)), 0);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1167,
                    "changes": [
                        {
                            "start": 0,
                            "end": 43,
                            "content": "        bool affiliateFeeProcessed = false;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1041,
                    "changes": [
                        {
                            "start": 0,
                            "end": 54,
                            "content": "            ConversionStep memory stepData = _data[i];",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1139,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "        IERC20Token targetToken = stepData.targetToken;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 840,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "                amount -= fee;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 957,
                    "changes": [
                        {
                            "start": 0,
                            "end": 23,
                            "content": "    function xConvert2(",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1302,
                    "changes": [
                        {
                            "start": 0,
                            "end": 42,
                            "content": "            if (returnData.length == 64) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1163,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1297,
                    "changes": [
                        {
                            "start": 0,
                            "end": 152,
                            "content": "    function getReturn(IConverter _dest, IERC20Token _sourceToken, IERC20Token _targetToken, uint256 _amount) internal view returns (uint256, uint256) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1193,
                    "changes": [
                        {
                            "start": 0,
                            "end": 40,
                            "content": "                beneficiary: address(0),",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1195,
                    "changes": [
                        {
                            "start": 0,
                            "end": 28,
                            "content": "                // set flags",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 960,
                    "changes": [
                        {
                            "start": 0,
                            "end": 27,
                            "content": "        uint256 _minReturn,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1219,
                    "changes": [
                        {
                            "start": 0,
                            "end": 107,
                            "content": "            // older converter - replace the target token with the EtherToken address used by the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 690,
                    "changes": [
                        {
                            "start": 0,
                            "end": 80,
                            "content": "contract BancorNetwork is TokenHolder, ContractRegistryClient, ReentrancyGuard {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1129,
                    "changes": [
                        {
                            "start": 0,
                            "end": 52,
                            "content": "      * @param _amount      conversion target amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1243,
                    "changes": [
                        {
                            "start": 0,
                            "end": 18,
                            "content": "            else {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 809,
                    "changes": [
                        {
                            "start": 0,
                            "end": 78,
                            "content": "            converter = IConverter(payable(IConverterAnchor(anchor).owner()));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 775,
                    "changes": [
                        {
                            "start": 0,
                            "end": 120,
                            "content": "    function conversionPath(IERC20Token _sourceToken, IERC20Token _targetToken) public view returns (address[] memory) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 790,
                    "changes": [
                        {
                            "start": 0,
                            "end": 23,
                            "content": "        uint256 amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1080,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 794,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        uint32 weight;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1169,
                    "changes": [
                        {
                            "start": 0,
                            "end": 83,
                            "content": "        // iterate the conversion path and create the conversion data for each step",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 734,
                    "changes": [
                        {
                            "start": 0,
                            "end": 87,
                            "content": "    constructor(IContractRegistry _registry) ContractRegistryClient(_registry) public {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 827,
                    "changes": [
                        {
                            "start": 0,
                            "end": 66,
                            "content": "                // update the anchor supply for the next iteration",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 958,
                    "changes": [
                        {
                            "start": 0,
                            "end": 31,
                            "content": "        address[] memory _path,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1021,
                    "changes": [
                        {
                            "start": 0,
                            "end": 84,
                            "content": "      * @param _data                conversion data, see ConversionStep struct above",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1173,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "            IConverter converter = IConverter(payable(anchor.owner()));",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1137,
                    "changes": [
                        {
                            "start": 0,
                            "end": 19,
                            "content": "            return;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 721,
                    "changes": [
                        {
                            "start": 0,
                            "end": 45,
                            "content": "        IConverterAnchor indexed _smartToken,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1022,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @param _amount              amount to convert from, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 731,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 767,
                    "changes": [
                        {
                            "start": 0,
                            "end": 74,
                            "content": "      * @dev returns the conversion path between two tokens in the network",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 961,
                    "changes": [
                        {
                            "start": 0,
                            "end": 34,
                            "content": "        bytes32 _targetBlockchain,",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1093,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        // ETH",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 757,
                    "changes": [
                        {
                            "start": 0,
                            "end": 67,
                            "content": "    function registerEtherToken(IEtherToken _token, bool _register)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1106,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "            // claim the tokens - if the source token is ETH reserve, this call will fail",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1250,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 668,
                    "changes": [
                        {
                            "start": 0,
                            "end": 212,
                            "content": "        (bool success, bytes memory returnData) = address(_converter).call{gas: 4000}(data)ange(IERC20Token _sourceToken, IERC20Token _targetToken, uint256 _amount, uint256 _minReturn) external returns (uint256);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 934,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        public",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 813,
                    "changes": [
                        {
                            "start": 0,
                            "end": 75,
                            "content": "            targetToken = getConverterTokenAddress(converter, targetToken);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 970,
                    "changes": [
                        {
                            "start": 0,
                            "end": 25,
                            "content": "        returns (uint256)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 895,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 823,
                    "changes": [
                        {
                            "start": 0,
                            "end": 87,
                            "content": "                amount = formula.purchaseTargetAmount(supply, balance, weight, amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 669,
                    "changes": [
                        {
                            "start": 0,
                            "end": 1,
                            "content": "}",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 924,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "      * @return the amount of BNT received from this conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1150,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        else {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 865,
                    "changes": [
                        {
                            "start": 0,
                            "end": 7,
                            "content": "      *",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1228,
                    "changes": [
                        {
                            "start": 0,
                            "end": 129,
                            "content": "            // first check if the converter in this step is newer as older converters don't even support the beneficiary argument",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 700,
                    "changes": [
                        {
                            "start": 0,
                            "end": 32,
                            "content": "        IERC20Token targetToken;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1066,
                    "changes": [
                        {
                            "start": 0,
                            "end": 47,
                            "content": "            if (stepData.processAffiliateFee) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1089,
                    "changes": [
                        {
                            "start": 0,
                            "end": 109,
                            "content": "    function handleSourceToken(IERC20Token _sourceToken, IConverterAnchor _anchor, uint256 _amount) private {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1206,
                    "changes": [
                        {
                            "start": 0,
                            "end": 48,
                            "content": "            if (stepData.isV28OrHigherConverter)",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1289,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "            return ETH_RESERVE_ADDRESS;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 672,
                    "changes": [
                        {
                            "start": 0,
                            "end": 89,
                            "content": "  * @dev The BancorNetwork contract is the main entry point for Bancor token conversions.",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1121,
                    "changes": [
                        {
                            "start": 0,
                            "end": 83,
                            "content": "                safeTransferFrom(_sourceToken, msg.sender, address(this), _amount);",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1283,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "    // used by the converter, otherwise returns the input token address",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1016,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1113,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1043,
                    "changes": [
                        {
                            "start": 0,
                            "end": 30,
                            "content": "            // newer converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 787,
                    "changes": [
                        {
                            "start": 0,
                            "end": 38,
                            "content": "      * @return expected target amount",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1316,
                    "changes": [
                        {
                            "start": 0,
                            "end": 56,
                            "content": "    // using a static call to identify converter version",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 742,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1156,
                    "changes": [
                        {
                            "start": 0,
                            "end": 120,
                            "content": "      * @dev creates a memory cache of all conversion steps data to minimize logic and external calls during conversions",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 898,
                    "changes": [
                        {
                            "start": 0,
                            "end": 49,
                            "content": "        address payable beneficiary = msg.sender;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 745,
                    "changes": [
                        {
                            "start": 0,
                            "end": 17,
                            "content": "        ownerOnly",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 987,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        return amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 899,
                    "changes": [
                        {
                            "start": 0,
                            "end": 39,
                            "content": "        if (_beneficiary != address(0))",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 860,
                    "changes": [
                        {
                            "start": 0,
                            "end": 79,
                            "content": "      * @param _amount              amount to convert from, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 965,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "        uint256 _affiliateFee",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 688,
                    "changes": [
                        {
                            "start": 0,
                            "end": 85,
                            "content": "  * [source token, converter anchor, target token, converter anchor, target token...]",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1087,
                    "changes": [
                        {
                            "start": 0,
                            "end": 71,
                            "content": "      * @param _amount      amount to convert from, in the source token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 955,
                    "changes": [
                        {
                            "start": 0,
                            "end": 63,
                            "content": "      * @return the amount of BNT received from this conversion",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 950,
                    "changes": [
                        {
                            "start": 0,
                            "end": 95,
                            "content": "      * @param _targetAccount       address/account on the target blockchain to send the BNT to",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1317,
                    "changes": [
                        {
                            "start": 0,
                            "end": 104,
                            "content": "    // can't rely on the version number since the function had a different signature in older converters",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1023,
                    "changes": [
                        {
                            "start": 0,
                            "end": 151,
                            "content": "      * @param _minReturn           if the conversion results in an amount smaller than the minimum return - it is cancelled, must be greater than zero",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 891,
                    "changes": [
                        {
                            "start": 0,
                            "end": 9,
                            "content": "        }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 906,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "        // handle the conversion target tokens",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 888,
                    "changes": [
                        {
                            "start": 0,
                            "end": 41,
                            "content": "        bool affiliateFeeEnabled = false;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 909,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        return amount;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 967,
                    "changes": [
                        {
                            "start": 0,
                            "end": 14,
                            "content": "        public",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 714,
                    "changes": [
                        {
                            "start": 0,
                            "end": 46,
                            "content": "      * @param _fromToken   source ERC20 token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1257,
                    "changes": [
                        {
                            "start": 0,
                            "end": 55,
                            "content": "      * @param _token   token to check the allowance in",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 988,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 993,
                    "changes": [
                        {
                            "start": 0,
                            "end": 95,
                            "content": "      * ideally this transaction is created before the previous conversion is even complete, so",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1088,
                    "changes": [
                        {
                            "start": 0,
                            "end": 6,
                            "content": "    */",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1149,
                    "changes": [
                        {
                            "start": 0,
                            "end": 28,
                            "content": "        // other ERC20 token",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1116,
                    "changes": [
                        {
                            "start": 0,
                            "end": 94,
                            "content": "            // newer converter - transfer the tokens from the sender directly to the converter",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1244,
                    "changes": [
                        {
                            "start": 0,
                            "end": 87,
                            "content": "                // converter in this step is older, beneficiary is the network contract",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 847,
                    "changes": [
                        {
                            "start": 0,
                            "end": 13,
                            "content": "            }",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 681,
                    "changes": [
                        {
                            "start": 0,
                            "end": 99,
                            "content": "  * The path format doesn't include complex structure; instead, it is represented by a single array",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 697,
                    "changes": [
                        {
                            "start": 0,
                            "end": 29,
                            "content": "        IConverter converter;",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1065,
                    "changes": [
                        {
                            "start": 0,
                            "end": 42,
                            "content": "            // pay affiliate-fee if needed",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1301,
                    "changes": [
                        {
                            "start": 0,
                            "end": 22,
                            "content": "        if (success) {",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 966,
                    "changes": [
                        {
                            "start": 0,
                            "end": 5,
                            "content": "    )",
                            "highlight": "normal"
                        }
                    ]
                }
            },
            {
                "rhs": {
                    "line_number": 1047,
                    "changes": [
                        {
                            "start": 0,
                            "end": 110,
                            "content": "                if (i != 0 && _data[i - 1].beneficiary == address(this) && !etherTokens[stepData.sourceToken])",
                            "highlight": "normal"
                        }
                    ]
                }
            }
        ]
    ]
}