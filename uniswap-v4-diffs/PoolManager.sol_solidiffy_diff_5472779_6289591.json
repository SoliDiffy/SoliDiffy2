{"number_of_edits": 113, "edit_script": "<actions>\n  <insert-node tree=\"state_variable_declaration [2211,2244]\" parent=\"contract_body [647,8492]\" at=\"8\" />\n  <insert-node tree=\"state_variable_declaration [2554,2624]\" parent=\"contract_body [647,8492]\" at=\"12\" />\n  <insert-node tree=\"type_name: address [2211,2218]\" parent=\"state_variable_declaration [2211,2244]\" at=\"0\" />\n  <insert-node tree=\"visibility: public [2219,2225]\" parent=\"state_variable_declaration [2211,2244]\" at=\"1\" />\n  <move-tree tree=\"override_specifier [2287,2295]\" parent=\"state_variable_declaration [2211,2244]\" at=\"2\" />\n  <insert-node tree=\"identifier: lockedBy [2235,2243]\" parent=\"state_variable_declaration [2211,2244]\" at=\"3\" />\n  <update-node tree=\"type_name: address[] [2270,2279]\" label=\"IERC20Minimal[]\" />\n  <insert-tree tree=\"override_specifier [2448,2456]\" parent=\"state_variable_declaration [2425,2471]\" at=\"2\" />\n  <update-node tree=\"identifier: lockedBy [2296,2304]\" label=\"tokensTouched\" />\n  <move-tree tree=\"type_name: mapping(IERC20Minimal =&gt; PositionAndDelta) [2936,2978]\" parent=\"state_variable_declaration [2554,2624]\" at=\"0\" />\n  <update-node tree=\"visibility: private [3266,3273]\" label=\"public\" />\n  <move-tree tree=\"visibility: private [3266,3273]\" parent=\"state_variable_declaration [2554,2624]\" at=\"1\" />\n  <insert-tree tree=\"override_specifier [2604,2612]\" parent=\"state_variable_declaration [2554,2624]\" at=\"2\" />\n  <update-node tree=\"identifier: getTokenDelta [3696,3709]\" label=\"tokenDelta\" />\n  <move-tree tree=\"identifier: getTokenDelta [3696,3709]\" parent=\"state_variable_declaration [2554,2624]\" at=\"3\" />\n  <insert-node tree=\"if_statement [2723,2782]\" parent=\"function_body [2713,3367]\" at=\"0\" />\n  <insert-node tree=\"expression_statement [2791,2813]\" parent=\"function_body [2713,3367]\" at=\"1\" />\n  <insert-node tree=\"block_statement [2994,3306]\" parent=\"function_body [2713,3367]\" at=\"3\" />\n  <move-tree tree=\"expression_statement [4753,4784]\" parent=\"function_body [2713,3367]\" at=\"6\" />\n  <move-tree tree=\"variable_declaration_statement [3802,3865]\" parent=\"function_body [3524,3990]\" at=\"3\" />\n  <insert-node tree=\"if: if [2723,2725]\" parent=\"if_statement [2723,2782]\" at=\"0\" />\n  <insert-tree tree=\"binary_expression [2727,2749]\" parent=\"if_statement [2723,2782]\" at=\"1\" />\n  <insert-node tree=\"revert_statement [2751,2782]\" parent=\"if_statement [2723,2782]\" at=\"2\" />\n  <insert-node tree=\"assignment_expression [2791,2812]\" parent=\"expression_statement [2791,2813]\" at=\"0\" />\n  <move-tree tree=\"unchecked: unchecked [4260,4269]\" parent=\"block_statement [2994,3306]\" at=\"0\" />\n  <move-tree tree=\"for_statement [4413,4740]\" parent=\"block_statement [2994,3306]\" at=\"1\" />\n  <insert-tree tree=\"unary_expression [3345,3360]\" parent=\"expression_statement [3345,3361]\" at=\"0\" />\n  <update-node tree=\"member_expression: lockState.tokensTouched.length [5090,5120]\" label=\"tokensTouched.length\" />\n  <insert-node tree=\"revert: revert [2751,2757]\" parent=\"revert_statement [2751,2782]\" at=\"0\" />\n  <update-node tree=\"identifier: id [4023,4025]\" label=\"AlreadyLocked\" />\n  <move-tree tree=\"identifier: id [4023,4025]\" parent=\"revert_statement [2751,2782]\" at=\"1\" />\n  <insert-tree tree=\"revert_arguments [2771,2781]\" parent=\"revert_statement [2751,2782]\" at=\"2\" />\n  <insert-node tree=\"identifier: lockedBy [2791,2799]\" parent=\"assignment_expression [2791,2812]\" at=\"0\" />\n  <move-tree tree=\"affectation_operator: = [4026,4027]\" parent=\"assignment_expression [2791,2812]\" at=\"1\" />\n  <move-tree tree=\"member_expression: msg.sender [4067,4077]\" parent=\"assignment_expression [2791,2812]\" at=\"2\" />\n  <insert-node tree=\"identifier: tokensTouched [3322,3335]\" parent=\"unary_expression [3315,3335]\" at=\"1\" />\n  <update-node tree=\"identifier: numTokensTouched [5071,5087]\" label=\"len\" />\n  <update-node tree=\"identifier: numTokensTouched [5134,5150]\" label=\"len\" />\n  <insert-node tree=\"identifier: tokenDelta [3704,3714]\" parent=\"array_access [3704,3721]\" at=\"0\" />\n  <move-tree tree=\"if_statement [4615,4674]\" parent=\"block_statement [3803,3984]\" at=\"0\" />\n  <update-node tree=\"member_expression: lockStates[lockedBy.length - 1].tokenDelta[token].delta [5762,5817]\" label=\"tokenDelta[token].delta\" />\n  <update-node tree=\"identifier: locker [6253,6259]\" label=\"lockedBy\" />\n  <insert-node tree=\"affectation_operator: = [3033,3034]\" parent=\"variable_declaration_statement [3023,3037]\" at=\"1\" />\n  <insert-node tree=\"number_literal: 0 [3035,3036]\" parent=\"variable_declaration_statement [3023,3037]\" at=\"2\" />\n  <insert-node tree=\"if_statement [3087,3229]\" parent=\"block_statement [3069,3296]\" at=\"0\" />\n  <update-node tree=\"member_expression: pd.delta [4619,4627]\" label=\"len &gt;= type(uint8).max\" />\n  <move-tree tree=\"member_expression: pd.delta [4619,4627]\" parent=\"if_statement [3817,3876]\" at=\"1\" />\n  <insert-node tree=\"member_expression: tokensTouched.length [3042,3062]\" parent=\"binary_expression [3038,3062]\" at=\"2\" />\n  <insert-node tree=\"if: if [3087,3089]\" parent=\"if_statement [3087,3229]\" at=\"0\" />\n  <move-tree tree=\"binary_expression [4619,4632]\" parent=\"if_statement [3087,3229]\" at=\"1\" />\n  <insert-node tree=\"revert_statement [3152,3229]\" parent=\"if_statement [3087,3229]\" at=\"2\" />\n  <update-node tree=\"member_expression: lockState.tokensTouched.push [5171,5199]\" label=\"tokensTouched.push\" />\n  <insert-node tree=\"identifier: tokensTouched [3773,3786]\" parent=\"binary_expression [3760,3786]\" at=\"2\" />\n  <update-node tree=\"identifier: TokenNotSettled [4641,4656]\" label=\"MaxTokensTouched\" />\n  <update-node tree=\"member_expression: lockState.tokensTouched.push [5564,5592]\" label=\"tokensTouched.push\" />\n  <update-node tree=\"identifier: locker [6277,6283]\" label=\"lockedBy\" />\n  <insert-node tree=\"member_expression: tokenDelta[tokensTouched[i]].delta [3091,3125]\" parent=\"binary_expression [3091,3130]\" at=\"0\" />\n  <insert-node tree=\"revert: revert [3152,3158]\" parent=\"revert_statement [3152,3229]\" at=\"0\" />\n  <insert-node tree=\"identifier: TokenNotSettled [3159,3174]\" parent=\"revert_statement [3152,3229]\" at=\"1\" />\n  <insert-node tree=\"revert_arguments [3174,3228]\" parent=\"revert_statement [3152,3229]\" at=\"2\" />\n  <insert-node tree=\"array_access [3264,3280]\" parent=\"array_access [3246,3281]\" at=\"1\" />\n  <insert-tree tree=\"call_argument [3175,3191]\" parent=\"revert_arguments [3174,3228]\" at=\"0\" />\n  <move-tree tree=\"call_argument [4664,4672]\" parent=\"revert_arguments [3174,3228]\" at=\"1\" />\n  <insert-node tree=\"identifier: tokenDelta [3253,3263]\" parent=\"unary_expression [3246,3263]\" at=\"1\" />\n  <update-node tree=\"identifier: token [4719,4724]\" label=\"tokensTouched\" />\n  <move-tree tree=\"identifier: token [4719,4724]\" parent=\"array_access [3264,3280]\" at=\"0\" />\n  <insert-node tree=\"identifier: i [3278,3279]\" parent=\"array_access [3264,3280]\" at=\"1\" />\n  <update-node tree=\"identifier: numTokensTouched [5505,5521]\" label=\"len\" />\n  <update-node tree=\"member_expression: pd.delta [4664,4672]\" label=\"tokenDelta[tokensTouched[i]].delta\" />\n  <delete-tree tree=\"function_definition [2344,2441]\" />\n  <delete-node tree=\"struct: struct [2870,2876]\" />\n  <delete-node tree=\"identifier: LockState [2877,2886]\" />\n  <delete-tree tree=\"struct_member [2897,2927]\" />\n  <delete-node tree=\"identifier: tokenDelta [2979,2989]\" />\n  <delete-node tree=\"struct_member [2936,2990]\" />\n  <delete-node tree=\"struct_declaration [2870,2996]\" />\n  <delete-node tree=\"type_name: mapping(uint256 =&gt; LockState) [3236,3265]\" />\n  <delete-node tree=\"identifier: lockStates [3274,3284]\" />\n  <delete-node tree=\"state_variable_declaration [3236,3285]\" />\n  <delete-tree tree=\"function_definition [3324,3459]\" />\n  <delete-tree tree=\"function_definition [3498,3648]\" />\n  <delete-node tree=\"function: function [3687,3695]\" />\n  <delete-tree tree=\"parameter [3710,3720]\" />\n  <delete-tree tree=\"parameter [3722,3741]\" />\n  <delete-node tree=\"visibility: external [3743,3751]\" />\n  <delete-tree tree=\"state_mutability [3752,3756]\" />\n  <delete-tree tree=\"return_type_definition [3757,3791]\" />\n  <delete-tree tree=\"expression_statement [3874,3910]\" />\n  <delete-node tree=\"function_body [3792,3916]\" />\n  <delete-node tree=\"function_definition [3687,3916]\" />\n  <delete-node tree=\"type_name: uint256 [4015,4022]\" />\n  <delete-node tree=\"variable_declaration [4015,4025]\" />\n  <delete-node tree=\"member_expression: lockedBy.length [4028,4043]\" />\n  <delete-node tree=\"variable_declaration_statement [4015,4044]\" />\n  <delete-node tree=\"member_expression: lockedBy.push [4053,4066]\" />\n  <delete-node tree=\"call_argument [4067,4077]\" />\n  <delete-node tree=\"call_expression [4053,4078]\" />\n  <delete-node tree=\"expression_statement [4053,4079]\" />\n  <delete-node tree=\"identifier: numTokensTouched [4433,4449]\" />\n  <delete-tree tree=\"variable_declaration_statement [4474,4523]\" />\n  <delete-tree tree=\"variable_declaration_statement [4540,4598]\" />\n  <delete-node tree=\"member_expression: lockState.tokenDelta [4698,4718]\" />\n  <delete-node tree=\"member_expression: lockState.tokensTouched [4760,4783]\" />\n  <delete-tree tree=\"variable_declaration_statement [4284,4329]\" />\n  <delete-tree tree=\"variable_declaration_statement [4342,4400]\" />\n  <delete-node tree=\"block_statement [4260,4794]\" />\n  <delete-tree tree=\"call_expression [4804,4818]\" />\n  <delete-tree tree=\"variable_declaration_statement [4992,5054]\" />\n  <delete-node tree=\"member_expression: lockStates[id].tokenDelta [3832,3857]\" />\n  <delete-tree tree=\"variable_declaration_statement [5249,5307]\" />\n  <delete-node tree=\"member_expression: lockState.tokensTouched [5358,5381]\" />\n  <delete-tree tree=\"if_statement [5412,5479]\" />\n  <delete-tree tree=\"variable_declaration_statement [6179,6226]\" />\n</actions>\n"}