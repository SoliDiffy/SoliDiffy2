{"number_of_edits": 178, "edit_script": "<actions>\n  <move-tree tree=\"import_directive [221,282]\" parent=\"source_file [0,22198]\" at=\"2\" />\n  <insert-node tree=\"identifier: UniswapV3Pair [574,587]\" parent=\"contract_declaration [565,22198]\" at=\"0\" />\n  <insert-node tree=\"is: is [588,590]\" parent=\"contract_declaration [565,22198]\" at=\"1\" />\n  <insert-node tree=\"state_variable_declaration [1551,1596]\" parent=\"contract_body [606,22198]\" at=\"14\" />\n  <insert-node tree=\"struct_declaration [2645,3306]\" parent=\"contract_body [606,22198]\" at=\"19\" />\n  <insert-node tree=\"type_name: uint112[4] [1551,1561]\" parent=\"state_variable_declaration [1551,1596]\" at=\"0\" />\n  <insert-node tree=\"visibility: public [1562,1568]\" parent=\"state_variable_declaration [1551,1596]\" at=\"1\" />\n  <move-tree tree=\"override_specifier [1644,1652]\" parent=\"state_variable_declaration [1551,1596]\" at=\"2\" />\n  <insert-node tree=\"identifier: liquidityVirtuals [1578,1595]\" parent=\"state_variable_declaration [1551,1596]\" at=\"3\" />\n  <insert-node tree=\"struct: struct [2645,2651]\" parent=\"struct_declaration [2645,3306]\" at=\"0\" />\n  <insert-node tree=\"identifier: Position [2652,2660]\" parent=\"struct_declaration [2645,3306]\" at=\"1\" />\n  <move-tree tree=\"struct_member [3087,3105]\" parent=\"struct_declaration [2645,3306]\" at=\"2\" />\n  <insert-tree tree=\"struct_member [3276,3300]\" parent=\"struct_declaration [2645,3306]\" at=\"3\" />\n  <update-node tree=\"identifier: getVirtualSupply [4016,4032]\" label=\"getLiquidityVirtual\" />\n  <insert-tree tree=\"parameter [8420,8447]\" parent=\"function_definition [8403,9303]\" at=\"2\" />\n  <insert-tree tree=\"parameter [8449,8476]\" parent=\"function_definition [8403,9303]\" at=\"3\" />\n  <move-tree tree=\"variable_declaration_statement [9764,9853]\" parent=\"function_body [9406,11022]\" at=\"10\" />\n  <move-tree tree=\"expression_statement [9862,9922]\" parent=\"function_body [9406,11022]\" at=\"10\" />\n  <update-node tree=\"identifier: secondsOutside [2386,2400]\" label=\"secondsGrowthOutside\" />\n  <insert-node tree=\"variable_declaration_statement [8151,8207]\" parent=\"function_body [7954,8321]\" at=\"4\" />\n  <insert-tree tree=\"expression_statement [9167,9205]\" parent=\"function_body [8486,9303]\" at=\"3\" />\n  <insert-tree tree=\"expression_statement [9214,9252]\" parent=\"function_body [8486,9303]\" at=\"4\" />\n  <move-tree tree=\"expression_statement [8946,8982]\" parent=\"function_body [8486,9303]\" at=\"5\" />\n  <insert-node tree=\"variable_declaration_statement [10794,10894]\" parent=\"function_body [9406,11022]\" at=\"14\" />\n  <insert-node tree=\"expression_statement [10990,11016]\" parent=\"function_body [9406,11022]\" at=\"17\" />\n  <move-tree tree=\"block_statement [12712,13528]\" parent=\"function_body [11985,17218]\" at=\"9\" />\n  <move-tree tree=\"expression_statement [14374,14523]\" parent=\"function_body [11985,17218]\" at=\"13\" />\n  <move-tree tree=\"expression_statement [14712,14861]\" parent=\"function_body [11985,17218]\" at=\"14\" />\n  <insert-tree tree=\"expression_statement [22148,22190]\" parent=\"function_body [17436,22196]\" at=\"6\" />\n  <update-node tree=\"identifier: virtualSupply [4064,4077]\" label=\"liquidityVirtual\" />\n  <insert-tree tree=\"variable_declaration [8151,8175]\" parent=\"variable_declaration_statement [8151,8207]\" at=\"0\" />\n  <insert-node tree=\"affectation_operator: = [8176,8177]\" parent=\"variable_declaration_statement [8151,8207]\" at=\"1\" />\n  <move-tree tree=\"array_access [8117,8145]\" parent=\"variable_declaration_statement [8151,8207]\" at=\"2\" />\n  <insert-node tree=\"binary_expression [8671,8734]\" parent=\"if_statement [8667,9158]\" at=\"1\" />\n  <insert-tree tree=\"variable_declaration [10519,10556]\" parent=\"variable_declaration_statement [10519,10631]\" at=\"0\" />\n  <move-tree tree=\"variable_declaration [10180,10205]\" parent=\"variable_declaration_statement [10794,10894]\" at=\"0\" />\n  <move-tree tree=\"affectation_operator: = [10430,10431]\" parent=\"variable_declaration_statement [10794,10894]\" at=\"1\" />\n  <move-tree tree=\"call_expression [10432,10503]\" parent=\"variable_declaration_statement [10794,10894]\" at=\"2\" />\n  <insert-node tree=\"call_expression [10990,11015]\" parent=\"expression_statement [10990,11016]\" at=\"0\" />\n  <move-tree tree=\"variable_declaration_statement [12389,12473]\" parent=\"block_statement [12694,14117]\" at=\"0\" />\n  <move-tree tree=\"variable_declaration_statement [12482,12594]\" parent=\"block_statement [12694,14117]\" at=\"1\" />\n  <move-tree tree=\"expression_statement [13565,13638]\" parent=\"block_statement [12694,14117]\" at=\"4\" />\n  <move-tree tree=\"expression_statement [13647,13778]\" parent=\"block_statement [12694,14117]\" at=\"5\" />\n  <update-node tree=\"identifier: virtualSupply [4089,4102]\" label=\"liquidityVirtual\" />\n  <update-node tree=\"identifier: virtualSupplyCumulative [4508,4531]\" label=\"liquidityVirtualCumulative\" />\n  <update-node tree=\"identifier: virtualSupplies [4534,4549]\" label=\"liquidityVirtuals\" />\n  <update-node tree=\"identifier: virtualSupply [4583,4596]\" label=\"liquidityVirtual\" />\n  <update-node tree=\"identifier: getVirtualSupply [4599,4615]\" label=\"getLiquidityVirtual\" />\n  <update-node tree=\"identifier: virtualSupplyCumulative [4634,4657]\" label=\"liquidityVirtualCumulative\" />\n  <update-node tree=\"identifier: tick [8014,8018]\" label=\"tickMin\" />\n  <update-node tree=\"member_expression: tick.growthOutside [8059,8077]\" label=\"tickMin.growthOutside\" />\n  <update-node tree=\"member_expression: tick.growthOutside [8155,8173]\" label=\"tickMax.growthOutside\" />\n  <insert-node tree=\"binary_expression [8671,8710]\" parent=\"binary_expression [8671,8734]\" at=\"0\" />\n  <insert-node tree=\"logical_operator: &amp;&amp; [8711,8713]\" parent=\"binary_expression [8671,8734]\" at=\"1\" />\n  <insert-tree tree=\"binary_expression [8714,8734]\" parent=\"binary_expression [8671,8734]\" at=\"2\" />\n  <update-node tree=\"member_expression: position.liquidity [10289,10307]\" label=\"positionLiquidityMin.liquidity\" />\n  <update-node tree=\"member_expression: position.liquidityAdjusted [10333,10359]\" label=\"positionLiquidityMin.liquidityScalar\" />\n  <update-node tree=\"member_expression: position.liquidityAdjusted [10553,10579]\" label=\"position.liquidityScalar\" />\n  <update-node tree=\"identifier: reserve0Virtual [10647,10662]\" label=\"_update\" />\n  <move-tree tree=\"identifier: reserve0Virtual [10647,10662]\" parent=\"call_expression [10990,11015]\" at=\"0\" />\n  <insert-node tree=\"call_argument [10998,11005]\" parent=\"call_expression [10990,11015]\" at=\"1\" />\n  <insert-node tree=\"call_argument [11007,11014]\" parent=\"call_expression [10990,11015]\" at=\"2\" />\n  <update-node tree=\"identifier: price [12259,12264]\" label=\"priceCurrent\" />\n  <insert-node tree=\"assignment_expression [4875,4966]\" parent=\"expression_statement [4875,4967]\" at=\"0\" />\n  <move-tree tree=\"binary_expression [8504,8519]\" parent=\"binary_expression [8671,8710]\" at=\"0\" />\n  <insert-node tree=\"logical_operator: &amp;&amp; [8687,8689]\" parent=\"binary_expression [8671,8710]\" at=\"1\" />\n  <insert-tree tree=\"binary_expression [8690,8710]\" parent=\"binary_expression [8671,8710]\" at=\"2\" />\n  <update-node tree=\"identifier: virtualSupplies [9862,9877]\" label=\"liquidityVirtuals\" />\n  <update-node tree=\"identifier: LIQUIDITY_MIN [9896,9909]\" label=\"liquidity\" />\n  <update-node tree=\"identifier: liquidity [9912,9921]\" label=\"LIQUIDITY_MIN\" />\n  <move-tree tree=\"identifier: amount0 [10665,10672]\" parent=\"call_argument [10998,11005]\" at=\"0\" />\n  <move-tree tree=\"identifier: amount1 [10700,10707]\" parent=\"call_argument [11007,11014]\" at=\"0\" />\n  <update-node tree=\"member_expression: position.liquidityAdjusted [12680,12706]\" label=\"position.liquidityScalar\" />\n  <move-tree tree=\"member_expression: position.liquidityAdjusted [12680,12706]\" parent=\"binary_expression [12995,13023]\" at=\"0\" />\n  <move-tree tree=\"variable_declaration_statement [12771,12951]\" parent=\"block_statement [13025,13859]\" at=\"0\" />\n  <update-node tree=\"member_expression: position.liquidityAdjusted [13647,13673]\" label=\"position.liquidityScalar\" />\n  <move-tree tree=\"variable_declaration_statement [20278,20944]\" parent=\"block_statement [19206,21819]\" at=\"4\" />\n  <move-tree tree=\"expression_statement [21755,21834]\" parent=\"block_statement [19206,21819]\" at=\"10\" />\n  <update-node tree=\"identifier: virtualSupplies [4282,4297]\" label=\"liquidityVirtuals\" />\n  <update-node tree=\"identifier: virtualSupply [4661,4674]\" label=\"liquidityVirtual\" />\n  <update-node tree=\"identifier: virtualSupplyCumulative [4865,4888]\" label=\"liquidityVirtualCumulative\" />\n  <move-tree tree=\"identifier: virtualSupplyCumulative [4865,4888]\" parent=\"assignment_expression [4875,4966]\" at=\"0\" />\n  <update-node tree=\"affectation_operator: += [4889,4891]\" label=\"=\" />\n  <move-tree tree=\"affectation_operator: += [4889,4891]\" parent=\"assignment_expression [4875,4966]\" at=\"1\" />\n  <move-tree tree=\"array_access [4892,4923]\" parent=\"assignment_expression [4875,4966]\" at=\"2\" />\n  <update-node tree=\"string: 'UniswapV3: ALREADY_INITIALIZED' [11767,11799]\" label=\"'UniswapV3: NOT_INITIALIZED'\" />\n  <insert-tree tree=\"variable_declaration_statement [19537,19586]\" parent=\"block_statement [19206,21819]\" at=\"2\" />\n  <insert-node tree=\"binary_expression [4904,4950]\" parent=\"array_access [4904,4966]\" at=\"0\" />\n  <update-node tree=\"identifier: getVirtualSupply [5595,5611]\" label=\"getLiquidityVirtual\" />\n  <update-node tree=\"identifier: getVirtualSupply [9119,9135]\" label=\"getLiquidityVirtual\" />\n  <update-node tree=\"identifier: getVirtualSupply [11743,11759]\" label=\"getLiquidityVirtual\" />\n  <update-node tree=\"type_name: int112 [12771,12777]\" label=\"uint\" />\n  <update-node tree=\"member_expression: uint(FixedPoint.decode144(growthInside.mul(position.liquidityAdjusted)))                 .sub(position.liquidity)                 .toInt112 [12809,12948]\" label=\"uint(FixedPoint.decode144(growthInside.mul(position.liquidityScalar))).sub\" />\n  <insert-tree tree=\"call_argument [13150,13168]\" parent=\"call_expression [13075,13169]\" at=\"1\" />\n  <move-tree tree=\"expression_statement [13297,13331]\" parent=\"block_statement [13428,13635]\" at=\"1\" />\n  <update-node tree=\"identifier: virtualSupplies [4227,4242]\" label=\"liquidityVirtuals\" />\n  <insert-node tree=\"identifier: liquidityVirtualCumulative [4904,4930]\" parent=\"binary_expression [4904,4950]\" at=\"0\" />\n  <insert-node tree=\"arithmetic_operator: + [4931,4932]\" parent=\"binary_expression [4904,4950]\" at=\"1\" />\n  <update-node tree=\"identifier: virtualSupplies [4892,4907]\" label=\"liquidityVirtuals\" />\n  <move-tree tree=\"identifier: virtualSupplies [4892,4907]\" parent=\"binary_expression [4904,4950]\" at=\"2\" />\n  <update-node tree=\"member_expression: tickInfo.secondsOutside [11155,11178]\" label=\"tickInfo.secondsGrowthOutside\" />\n  <insert-node tree=\"assignment_expression [13573,13620]\" parent=\"expression_statement [13573,13621]\" at=\"0\" />\n  <update-node tree=\"identifier: price [15481,15486]\" label=\"priceCurrent\" />\n  <update-node tree=\"identifier: virtualSupplies [16061,16076]\" label=\"liquidityVirtuals\" />\n  <update-node tree=\"member_expression: virtualSupplies[uint8(feeVote)].addi(liquidityDelta).toUint112 [16095,16157]\" label=\"liquidityVirtuals[uint8(feeVote)].addi(liquidityDelta).toUint112\" />\n  <update-node tree=\"identifier: virtualSupplyDeltas [20295,20314]\" label=\"liquidityVirtualDeltas\" />\n  <update-node tree=\"identifier: virtualSupplies [21025,21040]\" label=\"liquidityVirtuals\" />\n  <update-node tree=\"member_expression: tickInfo.secondsOutside [21851,21874]\" label=\"tickInfo.secondsGrowthOutside\" />\n  <update-node tree=\"type_name: int112 [13179,13185]\" label=\"uint\" />\n  <move-tree tree=\"identifier: liquidityFee [13297,13309]\" parent=\"assignment_expression [13573,13620]\" at=\"0\" />\n  <update-node tree=\"affectation_operator: -= [13310,13312]\" label=\"=\" />\n  <move-tree tree=\"affectation_operator: -= [13310,13312]\" parent=\"assignment_expression [13573,13620]\" at=\"1\" />\n  <insert-node tree=\"binary_expression [13588,13620]\" parent=\"assignment_expression [13573,13620]\" at=\"2\" />\n  <update-node tree=\"identifier: price [13482,13487]\" label=\"priceCurrent\" />\n  <update-node tree=\"member_expression: (tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote0)].imul(virtualSupply) / reserve0Virtual)                         .itoInt112 [20339,20467]\" label=\"(tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote0)].imul(liquidityVirtual) / reserve0Virtual).itoInt112\" />\n  <update-node tree=\"member_expression: (tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote1)].imul(virtualSupply) / reserve0Virtual)                         .itoInt112 [20491,20619]\" label=\"(tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote1)].imul(liquidityVirtual) / reserve0Virtual).itoInt112\" />\n  <update-node tree=\"member_expression: (tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote2)].imul(virtualSupply) / reserve0Virtual)                         .itoInt112 [20643,20771]\" label=\"(tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote2)].imul(liquidityVirtual) / reserve0Virtual).itoInt112\" />\n  <update-node tree=\"member_expression: (tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote3)].imul(virtualSupply) / reserve0Virtual)                         .itoInt112 [20795,20923]\" label=\"(tickInfo.token0VirtualDeltas[uint8(FeeVote.FeeVote3)].imul(liquidityVirtual) / reserve0Virtual).itoInt112\" />\n  <update-node tree=\"member_expression: tickInfo.secondsOutside [21903,21926]\" label=\"tickInfo.secondsGrowthOutside\" />\n  <update-node tree=\"identifier: virtualSupplies [4172,4187]\" label=\"liquidityVirtuals\" />\n  <insert-node tree=\"identifier: liquidityFee [13588,13600]\" parent=\"binary_expression [13588,13620]\" at=\"0\" />\n  <insert-node tree=\"arithmetic_operator: - [13601,13602]\" parent=\"binary_expression [13588,13620]\" at=\"1\" />\n  <move-tree tree=\"identifier: liquidityProtocol [13313,13330]\" parent=\"binary_expression [13588,13620]\" at=\"2\" />\n  <insert-tree tree=\"parenthesized_expression [13822,13847]\" parent=\"unary_expression [13821,13847]\" at=\"1\" />\n  <update-node tree=\"member_expression: virtualSupplies[uint8(FeeVote.FeeVote0)].subi(virtualSupplyDeltas[uint8(FeeVote.FeeVote0)])                         .toUint112 [21065,21191]\" label=\"liquidityVirtuals[uint8(FeeVote.FeeVote0)].subi(liquidityVirtualDeltas[uint8(FeeVote.FeeVote0)]).toUint112\" />\n  <update-node tree=\"member_expression: virtualSupplies[uint8(FeeVote.FeeVote1)].subi(virtualSupplyDeltas[uint8(FeeVote.FeeVote1)])                         .toUint112 [21215,21341]\" label=\"liquidityVirtuals[uint8(FeeVote.FeeVote1)].subi(liquidityVirtualDeltas[uint8(FeeVote.FeeVote1)]).toUint112\" />\n  <update-node tree=\"member_expression: virtualSupplies[uint8(FeeVote.FeeVote2)].subi(virtualSupplyDeltas[uint8(FeeVote.FeeVote2)])                         .toUint112 [21365,21491]\" label=\"liquidityVirtuals[uint8(FeeVote.FeeVote2)].subi(liquidityVirtualDeltas[uint8(FeeVote.FeeVote2)]).toUint112\" />\n  <update-node tree=\"member_expression: virtualSupplies[uint8(FeeVote.FeeVote3)].subi(virtualSupplyDeltas[uint8(FeeVote.FeeVote3)])                         .toUint112 [21515,21641]\" label=\"liquidityVirtuals[uint8(FeeVote.FeeVote3)].subi(liquidityVirtualDeltas[uint8(FeeVote.FeeVote3)]).toUint112\" />\n  <update-node tree=\"identifier: virtualSupplies [4117,4132]\" label=\"liquidityVirtuals\" />\n  <delete-node tree=\"identifier: UniswapV3Pair [574,587]\" />\n  <delete-node tree=\"is: is [588,590]\" />\n  <delete-node tree=\"type_name: uint112[4] [1626,1636]\" />\n  <delete-node tree=\"visibility: public [1637,1643]\" />\n  <delete-node tree=\"identifier: virtualSupplies [1653,1668]\" />\n  <delete-node tree=\"state_variable_declaration [1626,1669]\" />\n  <delete-node tree=\"struct: struct [2684,2690]\" />\n  <delete-node tree=\"identifier: Position [2691,2699]\" />\n  <delete-tree tree=\"struct_member [3310,3336]\" />\n  <delete-node tree=\"struct_declaration [2684,3342]\" />\n  <delete-node tree=\"augmented_assignment_expression [4865,4923]\" />\n  <delete-node tree=\"identifier: tick [8110,8114]\" />\n  <delete-node tree=\"affectation_operator: = [8115,8116]\" />\n  <delete-node tree=\"assignment_expression [8110,8145]\" />\n  <delete-node tree=\"expression_statement [8110,8146]\" />\n  <delete-node tree=\"identifier: position [10421,10429]\" />\n  <delete-node tree=\"assignment_expression [10421,10503]\" />\n  <delete-node tree=\"expression_statement [10421,10504]\" />\n  <delete-node tree=\"affectation_operator: = [10663,10664]\" />\n  <delete-node tree=\"assignment_expression [10647,10672]\" />\n  <delete-node tree=\"expression_statement [10647,10673]\" />\n  <delete-node tree=\"identifier: reserve1Virtual [10682,10697]\" />\n  <delete-node tree=\"affectation_operator: = [10698,10699]\" />\n  <delete-node tree=\"assignment_expression [10682,10707]\" />\n  <delete-node tree=\"expression_statement [10682,10708]\" />\n  <delete-tree tree=\"expression_statement [10717,10762]\" />\n  <delete-node tree=\"identifier: liquidityFee [12969,12981]\" />\n  <delete-node tree=\"augmented_assignment_expression [13297,13330]\" />\n  <delete-node tree=\"if: if [13244,13246]\" />\n  <delete-tree tree=\"binary_expression [13248,13269]\" />\n  <delete-node tree=\"block_statement [13271,13409]\" />\n  <delete-node tree=\"if_statement [13244,13409]\" />\n  <delete-node tree=\"identifier: liquidityFee [13490,13502]\" />\n  <delete-node tree=\"if: if [12676,12678]\" />\n  <delete-node tree=\"comparison_operator: &gt; [12707,12708]\" />\n  <delete-node tree=\"number_literal: 0 [12709,12710]\" />\n  <delete-node tree=\"binary_expression [12680,12710]\" />\n  <delete-node tree=\"if_statement [12676,13528]\" />\n  <delete-node tree=\"block_statement [12379,13788]\" />\n  <delete-node tree=\"if: if [14325,14327]\" />\n  <delete-tree tree=\"binary_expression [14329,14358]\" />\n  <delete-node tree=\"block_statement [14360,14533]\" />\n  <delete-node tree=\"if_statement [14325,14533]\" />\n  <delete-node tree=\"if: if [14542,14544]\" />\n  <delete-tree tree=\"binary_expression [14546,14575]\" />\n  <delete-node tree=\"block_statement [14577,14871]\" />\n  <delete-node tree=\"if_statement [14542,14871]\" />\n  <delete-tree tree=\"expression_statement [17236,17246]\" />\n  <delete-tree tree=\"variable_declaration_statement [20218,20261]\" />\n</actions>\n"}