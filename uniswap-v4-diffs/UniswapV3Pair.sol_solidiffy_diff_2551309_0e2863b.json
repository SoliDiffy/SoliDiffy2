{"number_of_edits": 170, "edit_script": "<actions>\n  <insert-node tree=\"identifier: UniswapV3Pair [521,534]\" parent=\"contract_declaration [512,20372]\" at=\"0\" />\n  <insert-node tree=\"is: is [535,537]\" parent=\"contract_declaration [512,20372]\" at=\"1\" />\n  <insert-tree tree=\"state_variable_declaration [2639,2725]\" parent=\"contract_body [553,20372]\" at=\"23\" />\n  <insert-node tree=\"function_definition [5007,5489]\" parent=\"contract_body [553,20372]\" at=\"30\" />\n  <update-node tree=\"identifier: Position [2314,2322]\" label=\"UserBalance\" />\n  <insert-tree tree=\"struct_member [2469,2509]\" parent=\"struct_declaration [2307,2515]\" at=\"5\" />\n  <update-node tree=\"identifier: getGrowthInside [4299,4314]\" label=\"getGrowthOutside\" />\n  <insert-node tree=\"function: function [5007,5015]\" parent=\"function_definition [5007,5489]\" at=\"0\" />\n  <insert-node tree=\"identifier: adjustedVirtualBalanceOf [5016,5040]\" parent=\"function_definition [5007,5489]\" at=\"1\" />\n  <insert-tree tree=\"parameter [5041,5053]\" parent=\"function_definition [5007,5489]\" at=\"2\" />\n  <insert-tree tree=\"parameter [5055,5071]\" parent=\"function_definition [5007,5489]\" at=\"3\" />\n  <insert-tree tree=\"parameter [5073,5089]\" parent=\"function_definition [5007,5489]\" at=\"4\" />\n  <insert-node tree=\"visibility: public [5091,5097]\" parent=\"function_definition [5007,5489]\" at=\"5\" />\n  <insert-tree tree=\"state_mutability [5098,5102]\" parent=\"function_definition [5007,5489]\" at=\"6\" />\n  <insert-tree tree=\"return_type_definition [5103,5120]\" parent=\"function_definition [5007,5489]\" at=\"7\" />\n  <insert-node tree=\"function_body [5121,5489]\" parent=\"function_definition [5007,5489]\" at=\"8\" />\n  <move-tree tree=\"variable_declaration_statement [11221,11269]\" parent=\"function_body [4247,4596]\" at=\"0\" />\n  <insert-tree tree=\"variable_declaration_statement [5131,5206]\" parent=\"function_body [5121,5489]\" at=\"0\" />\n  <move-tree tree=\"variable_declaration_statement [11278,11363]\" parent=\"function_body [5121,5489]\" at=\"1\" />\n  <insert-tree tree=\"variable_declaration_statement [5307,5410]\" parent=\"function_body [5121,5489]\" at=\"2\" />\n  <insert-tree tree=\"return_statement [5419,5483]\" parent=\"function_body [5121,5489]\" at=\"3\" />\n  <insert-tree tree=\"expression_statement [10855,10920]\" parent=\"function_body [10524,14273]\" at=\"3\" />\n  <insert-tree tree=\"variable_declaration_statement [11262,11296]\" parent=\"function_body [10524,14273]\" at=\"8\" />\n  <insert-node tree=\"variable_declaration_statement [11435,11466]\" parent=\"function_body [10524,14273]\" at=\"9\" />\n  <insert-node tree=\"variable_declaration_statement [11515,11546]\" parent=\"function_body [10524,14273]\" at=\"11\" />\n  <insert-node tree=\"variable_declaration_statement [11555,11586]\" parent=\"function_body [10524,14273]\" at=\"12\" />\n  <insert-node tree=\"variable_declaration_statement [11595,11658]\" parent=\"function_body [10524,14273]\" at=\"13\" />\n  <insert-tree tree=\"if_statement [11667,11958]\" parent=\"function_body [10524,14273]\" at=\"14\" />\n  <insert-node tree=\"if_statement [11967,12258]\" parent=\"function_body [10524,14273]\" at=\"15\" />\n  <move-tree tree=\"variable_declaration [11634,11660]\" parent=\"variable_declaration_statement [11435,11466]\" at=\"0\" />\n  <insert-node tree=\"affectation_operator: = [11462,11463]\" parent=\"variable_declaration_statement [11435,11466]\" at=\"1\" />\n  <insert-node tree=\"number_literal: 0 [11464,11465]\" parent=\"variable_declaration_statement [11435,11466]\" at=\"2\" />\n  <move-tree tree=\"variable_declaration [11750,11776]\" parent=\"variable_declaration_statement [11475,11506]\" at=\"0\" />\n  <insert-node tree=\"number_literal: 0 [11504,11505]\" parent=\"variable_declaration_statement [11475,11506]\" at=\"2\" />\n  <move-tree tree=\"variable_declaration [11662,11688]\" parent=\"variable_declaration_statement [11515,11546]\" at=\"0\" />\n  <insert-node tree=\"affectation_operator: = [11542,11543]\" parent=\"variable_declaration_statement [11515,11546]\" at=\"1\" />\n  <insert-node tree=\"number_literal: 0 [11544,11545]\" parent=\"variable_declaration_statement [11515,11546]\" at=\"2\" />\n  <move-tree tree=\"variable_declaration [11778,11804]\" parent=\"variable_declaration_statement [11555,11586]\" at=\"0\" />\n  <move-tree tree=\"affectation_operator: = [11690,11691]\" parent=\"variable_declaration_statement [11555,11586]\" at=\"1\" />\n  <insert-node tree=\"number_literal: 0 [11584,11585]\" parent=\"variable_declaration_statement [11555,11586]\" at=\"2\" />\n  <insert-tree tree=\"variable_declaration [11595,11609]\" parent=\"variable_declaration_statement [11595,11658]\" at=\"0\" />\n  <insert-node tree=\"affectation_operator: = [11610,11611]\" parent=\"variable_declaration_statement [11595,11658]\" at=\"1\" />\n  <insert-node tree=\"type_cast_expression [11612,11657]\" parent=\"variable_declaration_statement [11595,11658]\" at=\"2\" />\n  <insert-node tree=\"if: if [11967,11969]\" parent=\"if_statement [11967,12258]\" at=\"0\" />\n  <insert-tree tree=\"binary_expression [11971,11985]\" parent=\"if_statement [11967,12258]\" at=\"1\" />\n  <insert-node tree=\"block_statement [11987,12258]\" parent=\"if_statement [11967,12258]\" at=\"2\" />\n  <update-node tree=\"member_expression: growthAbove.uqmul112(growthBelow).reciprocal().uqmul112 [4756,4811]\" label=\"growthAbove.uqmul112\" />\n  <update-node tree=\"identifier: kGrowthRange [11306,11318]\" label=\"growthOutside\" />\n  <update-node tree=\"identifier: getGrowthInside [11321,11336]\" label=\"getGrowthOutside\" />\n  <update-node tree=\"member_expression: positions[address(0)][0][0].liquidity [8334,8371]\" label=\"userBalances[address(0)][0][0].liquidity\" />\n  <update-node tree=\"type_name: Position [10803,10811]\" label=\"UserBalance\" />\n  <update-node tree=\"identifier: _position [10819,10828]\" label=\"_userBalance\" />\n  <insert-node tree=\"primitive_type: uint112 [11612,11619]\" parent=\"type_cast_expression [11612,11657]\" at=\"0\" />\n  <insert-node tree=\"call_argument [11620,11656]\" parent=\"type_cast_expression [11612,11657]\" at=\"1\" />\n  <insert-node tree=\"variable_declaration_statement [12001,12070]\" parent=\"block_statement [11987,12258]\" at=\"0\" />\n  <insert-tree tree=\"expression_statement [12083,12163]\" parent=\"block_statement [11987,12258]\" at=\"1\" />\n  <insert-tree tree=\"expression_statement [12176,12248]\" parent=\"block_statement [11987,12258]\" at=\"2\" />\n  <update-node tree=\"identifier: currentTick [11920,11931]\" label=\"_currentTick\" />\n  <update-node tree=\"identifier: _k [4812,4814]\" label=\"growthBelow\" />\n  <update-node tree=\"identifier: Position [8431,8439]\" label=\"UserBalance\" />\n  <move-tree tree=\"logical_operator: || [10751,10753]\" parent=\"binary_expression [10618,10657]\" at=\"2\" />\n  <move-tree tree=\"binary_expression [10729,10750]\" parent=\"binary_expression [10618,10657]\" at=\"2\" />\n  <insert-node tree=\"call_expression [11620,11656]\" parent=\"call_argument [11620,11656]\" at=\"0\" />\n  <insert-tree tree=\"variable_declaration [12001,12043]\" parent=\"variable_declaration_statement [12001,12070]\" at=\"0\" />\n  <move-tree tree=\"affectation_operator: = [11806,11807]\" parent=\"variable_declaration_statement [12001,12070]\" at=\"1\" />\n  <move-tree tree=\"call_expression [11692,11739]\" parent=\"variable_declaration_statement [12001,12070]\" at=\"2\" />\n  <insert-node tree=\"variable_declaration_statement [12688,12782]\" parent=\"block_statement [12674,13381]\" at=\"0\" />\n  <insert-node tree=\"variable_declaration_statement [12795,12889]\" parent=\"block_statement [12674,13381]\" at=\"1\" />\n  <update-node tree=\"identifier: Position [13422,13430]\" label=\"UserBalance\" />\n  <insert-node tree=\"call_struct_argument [8401,8441]\" parent=\"call_argument [8299,8451]\" at=\"3\" />\n  <update-node tree=\"identifier: positions [10831,10840]\" label=\"userBalances\" />\n  <update-node tree=\"string: 'UniswapV3: NOT_INITIALIZED' [11173,11201]\" label=\"'UniswapV3: INSUFFICIENT_LIQUIDITY'\" />\n  <insert-node tree=\"member_expression: Babylonian.sqrt [11620,11635]\" parent=\"call_expression [11620,11656]\" at=\"0\" />\n  <move-tree tree=\"call_argument [11710,11727]\" parent=\"call_expression [11620,11656]\" at=\"1\" />\n  <update-node tree=\"identifier: getBalancesAtTick [11692,11709]\" label=\"getTickPrice\" />\n  <move-tree tree=\"variable_declaration [12286,12308]\" parent=\"variable_declaration_statement [12688,12782]\" at=\"0\" />\n  <insert-node tree=\"affectation_operator: = [12711,12712]\" parent=\"variable_declaration_statement [12688,12782]\" at=\"1\" />\n  <insert-node tree=\"type_cast_expression [12713,12781]\" parent=\"variable_declaration_statement [12688,12782]\" at=\"2\" />\n  <move-tree tree=\"variable_declaration [12310,12332]\" parent=\"variable_declaration_statement [12795,12889]\" at=\"0\" />\n  <move-tree tree=\"affectation_operator: = [12334,12335]\" parent=\"variable_declaration_statement [12795,12889]\" at=\"1\" />\n  <insert-node tree=\"type_cast_expression [12820,12888]\" parent=\"variable_declaration_statement [12795,12889]\" at=\"2\" />\n  <insert-node tree=\"call_struct_argument [13866,13924]\" parent=\"call_argument [13730,13934]\" at=\"3\" />\n  <update-node tree=\"identifier: positions [8401,8410]\" label=\"userBalances\" />\n  <insert-node tree=\"identifier: growthOutsideStart [8401,8419]\" parent=\"call_struct_argument [8401,8441]\" at=\"0\" />\n  <insert-node tree=\":: : [8419,8420]\" parent=\"call_struct_argument [8401,8441]\" at=\"1\" />\n  <move-tree tree=\"call_expression [3362,3382]\" parent=\"call_struct_argument [8401,8441]\" at=\"2\" />\n  <insert-node tree=\"binary_expression [11636,11655]\" parent=\"call_argument [11636,11655]\" at=\"0\" />\n  <insert-node tree=\"primitive_type: uint112 [12713,12720]\" parent=\"type_cast_expression [12713,12781]\" at=\"0\" />\n  <insert-node tree=\"call_argument [12721,12780]\" parent=\"type_cast_expression [12713,12781]\" at=\"1\" />\n  <insert-node tree=\"primitive_type: uint112 [12820,12827]\" parent=\"type_cast_expression [12820,12888]\" at=\"0\" />\n  <move-tree tree=\"call_argument [12374,12415]\" parent=\"type_cast_expression [12820,12888]\" at=\"1\" />\n  <update-node tree=\"identifier: positions [13376,13385]\" label=\"userBalances\" />\n  <move-tree tree=\"identifier: lowerToken0Balance [13480,13498]\" parent=\"call_struct_argument [13744,13774]\" at=\"2\" />\n  <move-tree tree=\"identifier: upperToken1Balance [13547,13565]\" parent=\"call_struct_argument [13788,13818]\" at=\"2\" />\n  <move-tree tree=\"identifier: liquidity [13612,13621]\" parent=\"call_struct_argument [13832,13852]\" at=\"2\" />\n  <insert-node tree=\"identifier: growthOutsideStart [13866,13884]\" parent=\"call_struct_argument [13866,13924]\" at=\"0\" />\n  <insert-node tree=\":: : [13884,13885]\" parent=\"call_struct_argument [13866,13924]\" at=\"1\" />\n  <insert-node tree=\"call_expression [13886,13924]\" parent=\"call_struct_argument [13866,13924]\" at=\"2\" />\n  <update-node tree=\"identifier: adjustedLiquidity [11710,11727]\" label=\"reserve0\" />\n  <move-tree tree=\"identifier: adjustedLiquidity [11710,11727]\" parent=\"binary_expression [11636,11655]\" at=\"0\" />\n  <insert-node tree=\"arithmetic_operator: * [11645,11646]\" parent=\"binary_expression [11636,11655]\" at=\"1\" />\n  <insert-node tree=\"identifier: reserve1 [11647,11655]\" parent=\"binary_expression [11636,11655]\" at=\"2\" />\n  <insert-node tree=\"binary_expression [12721,12780]\" parent=\"call_argument [12721,12780]\" at=\"0\" />\n  <insert-node tree=\"binary_expression [12828,12887]\" parent=\"call_argument [12828,12887]\" at=\"0\" />\n  <insert-node tree=\"identifier: liquidity [13135,13144]\" parent=\"binary_expression [13118,13144]\" at=\"2\" />\n  <insert-node tree=\"identifier: getGrowthOutside [13886,13902]\" parent=\"call_expression [13886,13924]\" at=\"0\" />\n  <insert-tree tree=\"call_argument [13903,13912]\" parent=\"call_expression [13886,13924]\" at=\"1\" />\n  <move-tree tree=\"call_argument [11845,11854]\" parent=\"call_expression [13886,13924]\" at=\"2\" />\n  <insert-node tree=\"call_expression [12721,12757]\" parent=\"binary_expression [12721,12780]\" at=\"0\" />\n  <insert-node tree=\"arithmetic_operator: / [12758,12759]\" parent=\"binary_expression [12721,12780]\" at=\"1\" />\n  <insert-tree tree=\"type_cast_expression [12760,12780]\" parent=\"binary_expression [12721,12780]\" at=\"2\" />\n  <move-tree tree=\"call_expression [12374,12415]\" parent=\"binary_expression [12828,12887]\" at=\"0\" />\n  <insert-node tree=\"arithmetic_operator: / [12865,12866]\" parent=\"binary_expression [12828,12887]\" at=\"1\" />\n  <move-tree tree=\"type_cast_expression [12811,12831]\" parent=\"binary_expression [12828,12887]\" at=\"2\" />\n  <insert-node tree=\"member_expression: uint(liquidity).mul [12721,12740]\" parent=\"call_expression [12721,12757]\" at=\"0\" />\n  <insert-node tree=\"call_argument [12741,12756]\" parent=\"call_expression [12721,12757]\" at=\"1\" />\n  <update-node tree=\"member_expression: FixedPoint.encode(reserve1).div [12374,12405]\" label=\"uint(liquidity).mul\" />\n  <insert-node tree=\"call_argument [12848,12863]\" parent=\"call_expression [12828,12864]\" at=\"1\" />\n  <move-tree tree=\"type_cast_expression [12835,12850]\" parent=\"call_argument [12741,12756]\" at=\"0\" />\n  <insert-node tree=\"type_cast_expression [12848,12863]\" parent=\"call_argument [12848,12863]\" at=\"0\" />\n  <update-node tree=\"member_expression: positions[feeTo][0][0].liquidity [6856,6888]\" label=\"userBalances[feeTo][0][0].liquidity\" />\n  <insert-node tree=\"primitive_type: uint [12848,12852]\" parent=\"type_cast_expression [12848,12863]\" at=\"0\" />\n  <move-tree tree=\"call_argument [12406,12414]\" parent=\"type_cast_expression [12848,12863]\" at=\"1\" />\n  <update-node tree=\"identifier: reserve0 [12406,12414]\" label=\"_reserve1\" />\n  <delete-node tree=\"identifier: UniswapV3Pair [521,534]\" />\n  <delete-node tree=\"is: is [535,537]\" />\n  <delete-tree tree=\"state_variable_declaration [2591,2671]\" />\n  <delete-tree tree=\"variable_declaration_statement [3242,3291]\" />\n  <delete-node tree=\"if: if [3300,3302]\" />\n  <delete-tree tree=\"binary_expression [3304,3339]\" />\n  <delete-node tree=\"return: return [3355,3361]\" />\n  <delete-node tree=\"return_statement [3355,3383]\" />\n  <delete-node tree=\"block_statement [3341,3393]\" />\n  <delete-node tree=\"if_statement [3300,3393]\" />\n  <delete-tree tree=\"parameter [4353,4383]\" />\n  <delete-tree tree=\"call_argument [11359,11361]\" />\n  <delete-tree tree=\"function_definition [7103,7370]\" />\n  <delete-tree tree=\"function_definition [7376,7674]\" />\n  <delete-tree tree=\"variable_declaration [11469,11494]\" />\n  <delete-tree tree=\"call_expression [11497,11536]\" />\n  <delete-node tree=\"variable_declaration_tuple [11633,11689]\" />\n  <delete-node tree=\"variable_declaration_statement [11633,11740]\" />\n  <delete-node tree=\"variable_declaration_tuple [11749,11805]\" />\n  <delete-node tree=\"identifier: getBalancesAtTick [11808,11825]\" />\n  <delete-tree tree=\"call_argument [11826,11843]\" />\n  <delete-node tree=\"call_expression [11808,11855]\" />\n  <delete-node tree=\"variable_declaration_statement [11749,11856]\" />\n  <delete-node tree=\"variable_declaration_tuple [12285,12333]\" />\n  <delete-node tree=\"identifier: getBalancesAtPrice [12336,12354]\" />\n  <delete-tree tree=\"call_argument [12355,12372]\" />\n  <delete-node tree=\"call_expression [12336,12416]\" />\n  <delete-node tree=\"variable_declaration_statement [12285,12417]\" />\n  <delete-node tree=\"primitive_type: uint112 [12779,12786]\" />\n  <delete-tree tree=\"type_cast_expression [12788,12808]\" />\n  <delete-node tree=\"arithmetic_operator: * [12809,12810]\" />\n  <delete-node tree=\"binary_expression [12788,12831]\" />\n  <delete-node tree=\"parenthesized_expression [12787,12832]\" />\n  <delete-node tree=\"arithmetic_operator: / [12833,12834]\" />\n  <delete-node tree=\"binary_expression [12787,12850]\" />\n  <delete-node tree=\"call_argument [12787,12850]\" />\n  <delete-node tree=\"type_cast_expression [12779,12851]\" />\n  <delete-node tree=\"member_expression: _position.token0Owed [13457,13477]\" />\n  <delete-node tree=\"arithmetic_operator: + [13478,13479]\" />\n  <delete-node tree=\"binary_expression [13457,13498]\" />\n  <delete-node tree=\"member_expression: _position.token1Owed [13524,13544]\" />\n  <delete-node tree=\"arithmetic_operator: + [13545,13546]\" />\n  <delete-node tree=\"binary_expression [13524,13565]\" />\n  <delete-node tree=\"member_expression: _position.liquidity [13590,13609]\" />\n  <delete-node tree=\"arithmetic_operator: + [13610,13611]\" />\n  <delete-node tree=\"binary_expression [13590,13621]\" />\n</actions>\n"}